+++
title = "Weekly"
description = "一周之记"
tags = [
    "life",
    "work"
]
date = "2017-09-17"
topics = [
    "life",
    "work"
]
toc = true
+++

收集日常内容，记录灵感碎片。

<!--more-->

## week1

### 2017-09-04

* 定位到三个机器上无法启动uia2的问题

```shell
# Segmentation fault
# shell无响应
# 安装失败（可能是锁屏状态下，无法识别确定）Failure [INSTALL_FAILED_CANCELLED_BY_USER]
# 无法通过命令行安装apk文件， 一直处于等待中，失败掉线

#特定端口被tcp/tcp6占用？--bypass
```
* 优化uia2启动逻辑，邮件记录
* 实现参数控制socket server启动
* career guide 阅读

### 2017-09-05

* 优化uia2启动：有版本更新时，确保新版本被安装
* 定位到执行runner的bug问题，超时设置无buffer导致返回空
* 完成career guide系列阅读，整理思路

系列文章，有理论，有方法论。大量自引用

### 2017-09-06

* 继续优化uia2启动；处理(a) 非初始化时的逻辑 (b) 精确匹配进程
* 提供诊断模板——用户角度帮忙收集反馈
* 实现运行中更新控制
* 定位到重启造成的shell卡死现象——走笨办法，全线支持UIA方式。

所有的愤怒都是因为无能
所有的迷茫都是因为懒惰
由养育繁殖的压力想到的
——睡前讨论生养儿女：照顾、上学、工作

### 2017-09-07

- 实现新功能，上传netState状态。[使用Regex的分组功能](http://www.cnblogs.com/javaminer/p/3503389.html)
- 编辑wiki，完成复用jar包生成uitest.apk功能
- 开分支，完成**真·模拟重启**

### 2017-09-08

- 实现UIA重启信息收集

>在先用框架先，使用特殊标记执行指定动作：</br>
>执行长按电源键monkey脚本：</br>
>截图保存 </br>
>adb shell uiautomator dump，根据结果收集dump文件，</br>
>将截图和dump文件打zip包，上传服务器 </br>
>发送邮件：构造内容，定位 设备 + 对应的zip包 [^1]

- 重新在coding注册账户，使用私有项目
- 连接不正常，导致一直无法执行步骤。——agent端需要检查发现是否有这个问题；server端处理好连接
- 定位问题。属于复现的场景，网络原因导致下载不全。——需要在执行系统内兼容处理这种场景
- 买票出现失误——乘机人姓名拼写错误，沟通到第二天解决[^2]

### 2017-09-09

周六，五周年纪念日；睡了一上午。一些问题：

- 思考是如何进行的？
- 思考能够怎样思考？思考的逻辑是什么？语言在思考中扮演的角色？怎样提高思考的水平？
- 如何回顾长期目标，在日常生活中，坚持执行这个目标？
- 关于产品：如果在细节中思考背后的逻辑？人性？心理？增加埋点来反馈功能是否被使用？使用的频率
- 利用博客，每篇一个主题，记录如何完成一件较长期的事情。如，练习完成倒立；完成阅读一本书；学习一门语言并应用。每一个主题的时间都是未来的截止实现日
- 如何诚实地记录？
- 技术、人文选择。
- 参加早起打卡训练

总结交流一周的工作，学习，思考。


### 2017-09-10 
周日。洗衣服，熬药基本就过了大半天。半下午吃饭后，睡了一会就需要收拾东西准备出发了。要坐一夜的火车。

## week2

### 2017-09-11
凌晨到达，再做一个半小时地铁。

- 修复无密码时的bug——需要细心验证，避免低级错误
- 客户端和执行端同时优化处理uia2的实现效果，避免一直打印异常日志

>>初始化时逻辑重新处理，确保可用。</br>
运行时+kill时进行kill操作并卸载重装。</br>
同时uia1也进行重新初始化操作。</br>
已经运行时直接检查版本号。</br>

入住安排。沙发睡起来还不错:)

### 2017-09-12
早起起床在新环境溜达了一圈，熟悉下环境。有室外篮球场，可以活动活动了，虽然穿凉鞋:(

**抵抗程序员的心理**：怎么会有bug？不是我的问题！

>**1. 有问题出现才是提高的机会</br>
2. 平静接受这个现实——几乎没有没有bug的程序</br>
3. 激活大脑中关于这个应用的完整场景路径</br>
4. 模拟过程，思考可能出现问题的原因</br>**


### 2017-09-13
- 头脑风暴执行端的优化问题
- 定位执行端发现的问题，——最终还需依赖reboot的实现完成
- 定位log输出的异常现象。没有收集到完整的logcat的执行日志。比较诡异的一个现象。

晚上开始近大半年来的第一次篮球活动。灯光球场到晚上9：30结束。

### 2017-09-14
- 阅读源码[深度解读 java 线程池设计思想及源码实现](https://hongjiev.github.io/2017/09/05/java-thread-pool/)
- 定位完成log输出不完整问题
- 定位系统问题，不支持monkey脚本
- 完成移植开发，验证升级

### 2017-09-15

>1. 多个紧急任务同时到达时——zt、swj、dh、record、uia——容易产生急躁情绪，在多个进程中切换耗费加剧了这种情绪。
>2. 其实核心原因是因为每个工程都出了问题，如果仅仅是切换，然后每个工作都完成的很漂亮，产生的不是急躁情绪而是成就感。
>3. 所以要调整练习的是，即使不得不面对多个多个工作问题，甚至包括生活上的问题，也要沉着面对，不要着急。
>4. 然后保证在处理每一个当前问题的当下都保持专注，取得成果后再切换任务。
>5. 至少，对他人的付出道一声“辛苦了”——at least, lesson learned :)

- 定位monkey执行问题，本地两个过程分别在两个设备上验证结果
- 网络环境较差+运行时过长后出现的调用失败甚至内存溢出的问题——pending，原因尚未定位
- 补充升级执行程序，守护线程保证超时动作
- 部署升级，补丁升级——本地没有验证，直接升级，导致引入的jar已经更新，主程序事实上无法调用。

### 2017-09-16

出现一个问题，解决一个问题，一直围绕着问题进行猜想。排除干扰，直面问题，从头分析，效率效果都会更好一些。 

四人一起从头梳理逻辑，优化流程。一直处理到晚上10点。

进行借款操作。

### 2017-09-17

检查重构梳理后的代码，完成部署，支持重新调整后的网络结构：需要处理数据库记录；执行端的配置信息。测试执行正常。

笨办法找动态图翻了五六页的不冷笑话记录也没有找到，反而把心情搞急躁了，得不偿失。上午缺人，下午只有能留守到最后同步新平台信息——也只是参与了个尾巴——结果前面一个会议一直没有结束的迹象。

还是要按照自己的节奏做事。安排的日常任务不能因为周末儿耽误。该你过得坎不可能躲掉，埋头过坎，功不唐捐。类似昨天解决uia的问题，直面问题，效率效果都会更好。

晚上回去打球。

#### 苏元玉岩
>第一次骑行回来，晚上骑行不只是看不清路还是因为回程的坡度是向下的，感觉没怎么发力，就有飞的感觉。摸索着拐弯回来才发现居然还是更短的路线，摩拜首次推广917世界骑行日记。

>晚上回来同步手环数据发现超过一周的数据似乎会有丢失的现象，已经不是第一次遇到了。这种情况总是感觉很不爽，老婆安慰说自己走了就行，记录不上有什么关系。大概我就是有这方面类似的强迫症，如同有网络时打国际漫游电话就觉得是一种浪费，而且买机票的事情也不是那么紧急。但事后想想：“什么是更重要的事？” “什么是最重要的事？”显然老婆开心比较重要，上面的事情不值得因为自己的小气而惹自己不爽。

>打球还是很爽的，即使是自己投篮。自己练习时也应该可以练习，比如罚篮100次，昨晚的罚篮命中率只有48%。比如刻意练习转身投篮的稳定性，每次只需要练习一两个很基础的动作即可。最后体力有点透支，但感觉很爽。

>蓝牙、定位服务常开并调整到一起，这不就可以保持实时同步，防止丢失数据了。苏元、玉岩是晚上骑车的起点和终点的识别名称，合在一起，很好听的名字。

今天是个好日子。坚持锻炼就有效果，比如脚趾抓地并咬牙的小便姿势坚持一段时间就流畅到灬射。

>>● 灬 huǒ  ㄏㄨㄛˇ　◎ 古同“火”。● 灬 biāo  ㄅㄧㄠˉ ◎ 烈火。


## week3

### 2017-09-18
- 客户端执行系统搭建手册
- 升级zt客户端，同步最新DH、RD成果物

>第一印象很重要，但这又实在是心理的一种不理性认知。即使第一印象不好，恰巧又不小心犯错的场景下，也不应该摆臭脸——据老婆讲，我的臭脸真的很臭——后续还需要合作，与人方便自己方便。也是一种职业态度，即使只是做技术。况且技术的误解之一是不需要跟人打交道。最近的欣欣像容事件恰巧说明了这种与人打交道的情商的重要性。

晚上打球。

### 2017-09-19

- 增加新接口提供给自动输入使用
- 迁移后的平台部署升级，调整Shell脚本
- 根据邮件反馈收集的信息优化初始化内容


>形成初步的升级调试策略：</br>
>升级：需要多输入的步骤操作都重写为shell命令行；自动复制；自动登录；自动部署
>调试：根据诊断信息确定设备位置、时间；过滤后分析，需要调整时增减Log信息；从结果查看终端的输出

晚上计划打球的，看完自然传奇的十大毒物排行后，又放弃了。看了《银河护卫队2》——居然重复下载了两次——想象力恣意妄为，价值观又很现代。应该叫《再见，父亲》无论是天神级别的生父，还是掠夺者的养父。只是死的意义不同，一个灰飞烟灭，一个烟花灿烂。争斗了整个银河系的姐妹并肩作战后，再次各奔东西，只是这次彼此心中都有了柔软。最讨喜的肯定还是新生的小格鲁特(Groot)。


### 2017-09-20

- 整理Handstand内容，找到原版，改善shortcode代码
- 分析日志，定位到uia2的重启异常问题
- 分析依赖文件复制失败问题，除Permission Denied和 Device or resource busy外，其他都正常
- 需要本地维护设备历史信息，可参看移植zt实现[^3]

### 2017-09-21

- 定位到心跳逻辑未正常结束的bug：未正常接收agent且接收代码返回不规范
- 记录Socket异常的场景文章
- 分析异常发生时的场景
- 设备维护oppo系列

晚上吃太多了，客房还送了果篮，也被我们消灭了大半。生物钟已经形成，11点已经困得不行了:(

### 2017-09-22

- Maven本地安装jar包记录
- 移植升级ZT系统

出差告一段落，晚上返程的火车上还看了《绣春刀2：修罗战场》，挺好看，故事性更强，呼应得也够流畅。 

### 2017-09-23

早上重新下载了《绣春刀1：斩立决》，风格还是延续的。然后就好像厮混了一个周末:) 

### 2017-09-24

厮混结束后，吃饭的档口看得《加勒比海盗5：死无对证》没有特别惊喜，保持一般水准吧，然后洗衣服。

晚上买了几件东西，遇上一个不乐意买东西的媳妇也是没谁了，一逛就犯困，只能我来上了。难道也需要补补化妆方面的知识？这产业看起来倒是利润很高的样子。

讨论卡辛斯基马克斯的文章引申出机器科技威胁论，但要退守到哪个阶段才算数安全呢？也许第一位先祖利用树枝石头制造工具时——以马克斯的劳动论说——就已经埋下了威胁的种子？

退守到宗教的糖衣，匍匐在上帝的脚下似乎有些偷懒？对世界的解释还需要更好的安排？个人、群体、社会……

## week4 

### 2017-09-25

- 推进真机模块化重构
- 账单归集
- 重写调试的jar包，Debug的APIs调用

借钱还钱的事情还是老婆处理的妥妥当当:)

### 2017-09-26
- 设备维护逻辑更新，不自动处理无效设备
- 定位连接问题导致的执行失败场景。优化执行逻辑
- 低级失误问题：1. 打包不完整；2. 格式不规范；
- 定位到代码空指针错误，代码顺序导致的
- 完成七牛图片存储

如何避免低级失误问题？SB问题为什么会非常让人生气？如果是自己犯的SB错误呢？

### 2017-09-27

- 更换手机套餐
- 定位安装误判问题
- 发布ZT新版本，同步DH系统最新代码

使用了10年的畅听卡今天决定更换了。查询后发现给家里安装网络时办理的就是飞享套餐，这下两个都使用相同的套餐。
做事还是需要负责到底，负责买票了，直到最后报销都应该解决完整。再次吐槽一下去哪儿的支付API服务，连续发了5次都是无效的支付链接。
[jicw72](http://d.qunar.com/jicw72) ->
[实际地址](http://touch.qunar.com/h5/flight/flightview/itinerary?token=a5deec1f12bb413f9359bf9cf27ac66f&bizType=1&productNo=331288019307reim001&paySource=1&userName=chenglong.zhu)

最后只能顺丰到付了。

### 2017-09-28

- 从idea14迁移到idea 2017.2，使用免费教育正版
- 处理迁移后的[maven工程问题](../daily-updates/#maven-failed-to-read-artifact-descriptor-导致dependency文件无法识别)
- 定位so文件导致的java程序崩溃问题
- Shell脚本读取文件内容作为参数
- 开始代码移植，重新跑起来SWJ系统

现在ATM取现高级了，直接App扫描二维码即可完成，不需要插入实体银行卡。

### 2017-09-29

- 同步SWJ信息
- 银行还款，整理文件夹
- 代码移植完成
- 定位“编辑”无法点击的bug

### 2017-09-30

- 升级DH系统，高版本导致ZJ异常，再次升级
- 升级ZT系统

## week5 略
返乡探母

## week6 

### 2017-10-09

- 收集资料，验证大型apk安装过程
- 完成原型

### 2017-10-10

- 定位死循环bug并修复
- 完善验证大型apk预处理逻辑
- 自动升级逻辑处理——自住退出，控制好启动逻辑
- ss端口升级——貌似普遍现象，一直timeout报错

### 2017-10-11

- 环境更新，整理文档
- 完成接口重启逻辑+全自动逻辑
- 部署新设备环境

### 2017-10-12

- 部署升级，调试升级
- 王小波 -- [《我的师承》](https://www.douban.com/note/426907230/) --> 穆旦诗文集 --> 北京公共图书馆系统 
- golang -> post --> wide playground --> b3blog.org --> wanqu.co --> v2ex --> hacpai

### 2017-10-13

- 完成golang api调用原型
- 定位设备问题，确定解决方案
- [解决问题](https://hacpai.com/article/1507601898720)

## week7

### 2017-10-16

- 定位超时导致的bug
- 升级处理逻辑：心跳超时后：1.探测网络状态；2.自动调用升级重启接口

### 2017-10-17

- 完成socket获取设备初始化信息功能
- 照相、预约、办理未果
- 在线信息初步完成

### 2017-10-18

- 早起阅读《超级符号就是超级创意》
- 代码部署升级，优化部分
- 定位问题，无法查看历史截图数据
- 升级最新版本runner，更新查询信息

说清、说服、说动的营销观念也适用于团队配合。说动是目的；说服是目标，说清是手段。超级话语的概念表达了“未达目的不择手段”的含义了。关键是目的是否达成，即事情最终是否做成，不一定需要说清——说清也说不清，理解偏差，信息丢失是不可避免的；更不需要说服——为什么要被说服。

准备材料似乎又完成了一份；机票代购业务也完成回程操作。

### 2017-10-19 

- 线上操作，回滚版本
- 最终定位问题并解决
- 验证升级

### 2017-10-20

- 准备材料，——略有瑕疵，估计要几个月之后才能办理了。
- 转战申请居住证
- 定位结果信息不一致问题

## week8

### 2017-10-23

- 升级检查——潜在问题，结束的任务没有正常移除
- hecCode订阅，进入android开发？
- [段永平博客](http://nteswjq.blog.163.com/blog/#m=0) 学习投资理念
- 定位结果信息不一致问题，修复升级

### 2017-10-24

- 定位修复重复执行问题
- 端口号检查；指定定时升级
- 本地验证时的初级错误，shell脚本无权限

升级验证时，注意细节。重复处理造成大量精力耗费，最后已经有点头疼了。

>反求诸己，电话派出所咨询时，可以预见会时怎样的答复。但求做事做成，这些如果感觉忍气吞声，其实还是修行不高。

### 2017-10-25

- 第一次升级，服务的PC断电了居然
- 手动升级发现引用了javafx的类，但linux的OpenJDK里没有这个?
- 定位问题，异常出现时，上报的结果没有收集到截图。确保截图结束后再让步骤失败

### 2017-10-26
- 问题收集，幽灵线程。占用了设备但一直没有执行下去。
- 增加监听接口，添加步骤耗时和结果信息
- 新领导班子都出来了，似乎解除暴力封锁？结果自家的网又不好用了

要带实习生，需要整理一下到底用了哪些方面的技术了:)

### 2017-10.27

- 晚上再次停电，需要把升级应用移到机房
- 查找定位任务下发信息，用到前两天刚掌握的grep、sed方法
- 优化执行log输出

## week9

### 2017-10-30
- uiautomator debug
- gradle basic learning

### 2017-10-31
不是每天及时记录，现在居然记不得这天做了哪些事情了:( 11-02
- log4j2 usage
- gradle test

### 2017-11-01
- 定位imei问题
- 定制测试开发
- 升级worker工程，设备信息收集

### 2017-11-02
- UIA本地验证
- 定位设备初始化问题
- shell实现自动备份

## week10~11 
### 2017-11-04~17
最忙碌的出差，还一直感冒。所幸结果还可以。

## week12

### 2017-11-20 ~ 23
- 维护现有系统；定位问题
- 配合手机IMSI和手机号信息
- 支持OCR上线功能

记忆是不靠谱的。虽然记录也不一定靠谱，但至少提供了一条回忆的线索。如果足够真诚，是可以还原一部分历史的。所以，还是应该坚持记录。

记录也是一种提醒，最好可以养成习惯。 


## week13

### 2017-11-27
- 升级ZT系统
- 管理系统移植环境搭建grails & groovy
- 跟踪定位问题

晚上跟踪定位问题时，很烦躁的感觉，想撂挑子。

后来事后分析，其实是对自己开发系统的维护——怎么会是我的bug，不可能。

遇到问题，分析问题，解决问题。永远都是这样的。

### 2017-11-28
- 收集整理IMSI数据
- 辅助升级环境

好久没打球了，重新复出。

### 2017-11-29
- 辅助升级支持，双工位全支持
- grails开发



[^1]:模板文件不支持链接
[^2]:支持系统出现这种异常场景时，也跳出了支撑系统，使用个人邮箱，个人账户现象。第二天在通知解决前，已经知道结果。跨过代理商，直接与航空公司客服联系，确定了代理商已经完成了修改动作。航空公司——>代理商——>去哪儿——>个人。最终还是个人账号发送的修改后行程单。
[^3]:需求实现

