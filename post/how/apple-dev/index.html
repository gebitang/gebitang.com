<!doctype html><html xmlns:wb=http://open.weibo.com/wb lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="xcode"><meta name=generator content="Hugo 0.121.0"><title>How to develop on MacOS for Apple platform &#183; 戈壁堂</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=http://gebitang.com/css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=http://gebitang.com/css/side-menu.css><!--<![endif]--><link rel=stylesheet href=http://gebitang.com/css/blackburn.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.9.0/css/all.css><link href="https://fonts.googleapis.com/css?family=Raleway" rel=stylesheet type=text/css><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js></script><script>hljs.initHighlightingOnLoad()</script><link rel="shortcut icon" href=http://gebitang.com/img/favicon.ico type=image/x-icon><link rel=stylesheet href=http://gebitang.com/css/my.css><script src=http://gebitang.com/js/my.js></script></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><a class="pure-menu-heading brand" href=http://gebitang.com/>Gebitang</a><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/><i class='fa fa-home fa-fw'></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/post/><i class='fa fa-list fa-fw'></i>Posts</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/about/><i class='fa fa-user fa-fw'></i>About</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/contact/><i class='fa fa-phone fa-fw'></i>Contact</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/tags/><i class='fa fa-tags fa-fw'></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/topics/><i class='fa fa-folder fa-fw'></i>Topics</a></li></ul></div><div class="pure-menu social"><ul class=pure-menu-list></ul></div><div><div class=small-print><small><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt=知识共享许可协议 style=border-width:0 src=https://i.creativecommons.org/l/by/4.0/80x15.png></a><br>本<span xmlns:dct=http://purl.org/dc/terms/ href=http://purl.org/dc/dcmitype/Text rel=dct:type>作品</span>由<a xmlns:cc=http://creativecommons.org/ns# href=http://gebitang.com property="cc:attributionName" rel=cc:attributionURL>&nbsp;Gebitang&nbsp;&nbsp;</a>采用<a rel=license href=http://creativecommons.org/licenses/by/4.0/>知识共享署名 4.0 国际许可协议</a>进行许可&nbsp;&copy; 2018</small></div><div class=small-print><small></small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a></small>
<small>Theme&nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a></small></div><div style=display:none><div class=small-print><small><wb:follow-button uid=2446212465 type=red_1 width=67 height=24></wb:follow-button></small></div></div></div></div><div id=main><div class=header><h1>How to develop on MacOS for Apple platform</h1><h2>xcode</h2></div><div class=content><div class=post-meta><div><i class="fa fa-calendar fa-fw"></i>
<time>2019-05-15</time></div><div><i class="fa fa-folder fa-fw"></i>
<a class=post-taxonomy-topic href=http://gebitang.com/topics/mac>mac</a>&nbsp;/
<a class=post-taxonomy-topic href=http://gebitang.com/topics/apple>apple</a>&nbsp;/
<a class=post-taxonomy-topic href=http://gebitang.com/topics/dev>dev</a></div><div><i class="fa fa-tags fa-fw"></i>
<a class=post-taxonomy-tag href=http://gebitang.com/tags/mac>mac</a>&nbsp;/
<a class=post-taxonomy-tag href=http://gebitang.com/tags/apple>apple</a></div></div><nav id=TableOfContents><ul><li><a href=#current>Current</a><ul><li><a href=#ios-1703-无法验证app-需要互联网连接以验证是否信任开发者>ios 17.0.3 无法验证app 需要互联网连接以验证是否信任开发者</a></li><li><a href=#添加登录后默认生效的环境变量>添加登录后默认生效的环境变量</a></li><li><a href=#libimobiledevice>libimobiledevice</a></li><li><a href=#ios-17-不再使用devicesupport文件>iOS 17 不再使用DeviceSupport文件</a></li><li><a href=#profile-has-not-been-expllicityly-trusted-by-the-user>profile has not been expllicityly trusted by the user</a></li><li><a href=#codesign>codesign</a></li><li><a href=#err_ssl_protocol_error>ERR_SSL_PROTOCOL_ERROR</a></li><li><a href=#隐藏dock栏图标>隐藏dock栏图标‘</a></li><li><a href=#屏幕分辨率>屏幕分辨率</a></li><li><a href=#修改terminal中的主机名>修改terminal中的主机名</a></li><li><a href=#修改用户名和文件夹>修改用户名和文件夹</a></li><li><a href=#brew-macos-13-unknown-or-unsupported-macos-version-dunno>brew macos 13 unknown or unsupported macos version dunno</a></li><li><a href=#brew-国内安装>brew 国内安装</a></li><li><a href=#ifunbox-同步iphone文件到mac>iFunBox 同步iPhone文件到Mac</a></li><li><a href=#fastbot_ios>Fastbot_iOS</a></li><li><a href=#xcode版本>Xcode版本</a></li><li><a href=#设置开机启动项>设置开机启动项</a></li><li><a href=#xcodexip删除验证>Xcode.xip删除验证</a></li><li><a href=#operation-not-permitted>Operation not permitted</a></li><li><a href=#xcode清除-report-navigator中的logs信息>Xcode清除 Report Navigator中的logs信息</a></li><li><a href=#provisioning-profile>provisioning profile</a></li><li><a href=#证书个数限制>证书个数限制</a></li><li><a href=#使用xcode安装ipa到手机>使用Xcode安装ipa到手机</a></li></ul></li><li><a href=#archive>Archive</a><ul><li><a href=#apple-disk-space-issue>Apple disk space issue</a></li><li><a href=#128g-ssd的痛>128G SSD的痛</a></li><li><a href=#mac允许远程登录>Mac允许远程登录</a></li><li><a href=#mac多台电脑共享屏幕>Mac多台电脑共享屏幕</a></li><li><a href=#获取app的下载链接>获取app的下载链接</a></li><li><a href=#更改主机名新建删除账户>更改主机名，新建删除账户</a></li><li><a href=#升级15版本后xcode无法打开>升级15版本后，XCODE无法打开</a></li><li><a href=#快捷键-锁屏>快捷键 锁屏</a></li><li><a href=#制作ubuntu启动盘>制作ubuntu启动盘</a></li><li><a href=#xcode-更新更换账号>XCode 更新更换账号</a></li><li><a href=#brew-install-local-file>brew install local file</a></li><li><a href=#xip-format>xip format</a></li><li><a href=#运行多个xcode版本>运行多个Xcode版本</a></li><li><a href=#mac使用brew安装python3>Mac使用brew安装python3</a><ul><li><a href=#python3-virtual-environments>python3: Virtual Environments</a></li></ul></li><li><a href=#查看macos版本>查看MacOS版本</a></li><li><a href=#could-not-locate-device-support-files>Could not locate device support files.</a></li><li><a href=#brew-安装提示xcode-outdated>brew 安装提示Xcode outdated</a></li><li><a href=#mac功能键>Mac功能键</a></li><li><a href=#chrome全屏-commandshift-f>Chrome全屏 Command+Shift +F</a></li><li><a href=#brew-安装应用的地址>brew 安装应用的地址</a></li><li><a href=#强制退出程序>强制退出程序</a></li></ul></li><li><a href=#美区账户注册之路>美区账户注册之路</a><ul><li><a href=#注册账号>注册账号</a></li><li><a href=#激活账号>激活账号</a></li><li><a href=#使用账号>使用账号</a></li><li><a href=#android共享代理>Android共享代理</a></li></ul></li></ul></nav><hr><p>下面为官方内容，研究透下面的内容，不用再搜索任何其他资料了:) 记录下链接没啥用哈，搞清楚how和what之后才能变成自己的东西
<a href=https://developer.apple.com/support/>developer apple center</a></p><ul><li><a href=https://help.apple.com/developer-account/>developer account</a></li><li><a href=https://help.apple.com/xcode/mac/current/#/devc8c2a6be1>xcode</a></li><li><a href=https://help.apple.com/app-store-connect/>app store connect</a></li><li><a href=https://developer.apple.com/support/articles/>topic articles</a></li><li><a href=https://developer.apple.com/documentation/>documentation</a></li></ul><h2 id=current>Current</h2><h3 id=ios-1703-无法验证app-需要互联网连接以验证是否信任开发者>ios 17.0.3 无法验证app 需要互联网连接以验证是否信任开发者</h3><p>同系统的其他几台设备连接正常，有一台一直报这个错误。udid确认已经添加到证书描述文件中。</p><ul><li>退出登录的icloud账号（显示看的确有其他账号信息）</li><li>重启手机</li></ul><p>不确定根本原因，上述操作之后app恢复正常。</p><h3 id=添加登录后默认生效的环境变量>添加登录后默认生效的环境变量</h3><p><code>~/.bash_profile</code> 和 <code>~/.zshrc</code>默认开机加载</p><h3 id=libimobiledevice>libimobiledevice</h3><ul><li><a href=https://github.com/libimobiledevice/libimobiledevice>libimobiledevice</a>
<code>ideviceinfo -u udid -k ProductType</code></li></ul><p>get 1.3.1 on Mac from <a href=https://github.com/libimobiledevice/libimobiledevice/issues/1123>issue 1123</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew uninstall --ignore-dependencies libimobiledevice
</span></span><span style=display:flex><span>brew uninstall --ignore-dependencies ideviceinstaller
</span></span><span style=display:flex><span>brew uninstall --ignore-dependencies usbmuxd
</span></span><span style=display:flex><span>brew uninstall --ignore-dependencies libplist
</span></span><span style=display:flex><span>sudo rm /var/db/lockdown/*
</span></span><span style=display:flex><span>brew install --HEAD libplist
</span></span><span style=display:flex><span>brew install --HEAD usbmuxd
</span></span><span style=display:flex><span>brew unlink usbmuxd
</span></span><span style=display:flex><span>brew link usbmuxd
</span></span><span style=display:flex><span>brew install --HEAD libimobiledevice
</span></span><span style=display:flex><span>brew install --HEAD ideviceinstaller
</span></span></code></pre></div><ul><li><p><a href=https://github.com/libimobiledevice/ideviceinstaller>ideviceinstaller</a>
<code>ideviceinstaller -u udid -l</code> list installed packages</p></li><li><p><a href=https://github.com/libimobiledevice/libusbmuxd>libusbmuxd</a>
<code>iproxy 2222:22</code></p></li><li><p><a href=https://github.com/libimobiledevice/libplist>plistutl</a></p></li></ul><h3 id=ios-17-不再使用devicesupport文件>iOS 17 不再使用DeviceSupport文件</h3><p>使用新的DDI(Device Driver Interface)机制与设备沟通。DeviceSupport的方式一直都是非官方方式（尽管已经正常运行了7年时间）—— 在低版本Xcode上指出高版本的iOS系统。后续各种依赖这个的工具可能都不好用了？<a href=https://github.com/filsv/iOSDeviceSupport/issues/169#issuecomment-1642514057>go-ios, tidevice, or even idevice libs</a></p><p><a href=https://developer.apple.com/forums/thread/730947>官方论坛：Missing iOS 17 device support files</a>官方讨论，其中提到的绕过方式满足特定条件可行<a href=https://stackoverflow.com/questions/76412754/how-to-run-on-ios-17-device-using-xcode-14>SO：How to run on iOS 17 Device using Xcode 14</a></p><p>使用的新协议<a href=https://duo.com/labs/research/apple-t2-xpc>RemoteXPC</a>，python项目<a href=https://github.com/doronz88/pymobiledevice3>pymobiledevice3</a>做了对应的支持。</p><blockquote><p>Starting at iOS 17.0, Apple introduced the new CoreDevice framework to work with iOS devices. This framework relies on the RemoteXPC protocol.</p></blockquote><h3 id=profile-has-not-been-expllicityly-trusted-by-the-user>profile has not been expllicityly trusted by the user</h3><p>wda编译安装成功，启动失败。提示无法启动。because it has an invalid code signature, inadequate entitlements or its profile &mldr;</p><p>使用的自定义签名证书和profile需要联网认证，手动点击启动应用时会自动弹出提示框。联网后会自动验证，不会有其他提示。</p><h3 id=codesign>codesign</h3><ul><li>报错： <code>errSecInternalComponent</code>， ssh环境执行codesign时，无法使用证书导致这个报错 <a href=https://developer.apple.com/forums/thread/712005>Resolving errSecInternalComponent errors during code signing</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 找到可用的证书文件 </span>
</span></span><span style=display:flex><span>security find-identity -p codesigning
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># unlock keychain, need to type password for login user</span>
</span></span><span style=display:flex><span>security unlock-keychain     
</span></span><span style=display:flex><span><span style=color:#75715e># Single-quotes prevent the ! from being interpreted</span>
</span></span><span style=display:flex><span>security unlock-keychain  <span style=color:#e6db74>&#34;=p&#34;</span> <span style=color:#e6db74>&#39;password!%&#39;</span> <span style=color:#e6db74>&#34;/Users/my/Library/Keychains/login.keychain&#34;</span>
</span></span></code></pre></div><p>正确的使用逻辑可以参考<a href=https://github.com/appium/appium-xcuitest-driver/blob/master/docs/wda-custom-server.md>wda-custom-server.md</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>private</span> List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>generateXcodebuildCmdline</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>final</span> List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(XCODEBUILD_EXECUTABLE.<span style=color:#a6e22e>getAbsolutePath</span>());
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#34;clean build-for-testing test-without-building&#34;</span>);
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;-project %s&#34;</span>, WDA_PROJECT.<span style=color:#a6e22e>getAbsolutePath</span>()));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;-scheme %s&#34;</span>, WDA_SCHEME));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;-destination id=%s&#34;</span>, deviceId));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;-configuration %s&#34;</span>, WDA_CONFIGURATION));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;IPHONEOS_DEPLOYMENT_TARGET=%s&#34;</span>, platformVersion));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;&gt; %s 2&gt;&amp;1 &amp;&#34;</span>, XCODEBUILD_LOG.<span style=color:#a6e22e>getAbsolutePath</span>()));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>generateKeychainUnlockCmdlines</span>() <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>final</span> List<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;/usr/bin/security -v list-keychains -s %s&#34;</span>, KEYCHAIN.<span style=color:#a6e22e>getAbsolutePath</span>()));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;/usr/bin/security -v unlock-keychain -p %s %s&#34;</span>,
</span></span><span style=display:flex><span>            KEYCHAIN_PASSWORD, KEYCHAIN.<span style=color:#a6e22e>getAbsolutePath</span>()));
</span></span><span style=display:flex><span>    result.<span style=color:#a6e22e>add</span>(String.<span style=color:#a6e22e>format</span>(<span style=color:#e6db74>&#34;/usr/bin/security set-keychain-settings -t 3600 %s&#34;</span>, KEYCHAIN.<span style=color:#a6e22e>getAbsolutePath</span>()));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><a href=https://www.jianshu.com/p/6b659c669338>iOS重签名探索</a> &ndash;><a href=https://github.com/chenhengjie123/iOS_resign_scripts/blob/master/ios_resign_with_ipa>ios_resign_with_ipa</a></p><h3 id=err_ssl_protocol_error>ERR_SSL_PROTOCOL_ERROR</h3><p>Mac上的各种浏览器访问<a href=https://developer.apple.com/documentation/xcode/enabling-developer-mode-on-a-device>Apple开发者网站</a>时，提示证书错误。根据<a href=https://discussions.apple.com/thread/251703744>官方社区</a>的反馈和本地环境判断：本地wifi环境的问题（因为safari上没有任何插件，依然报<code>safari can't establish a secure connection to the server "developer.apple.com"</code>），手机端使用本地wifi也无法打开相同的连接，切换到4G环境后可以正常访问。</p><h3 id=隐藏dock栏图标>隐藏dock栏图标‘</h3><p><a href=https://www.anmane.com/yin-cang-dockzhong-zheng-zai-yun-xing-cheng-xu-de-tu-biao/>隐藏正在运行程序在Dock中的图标</a></p><ul><li>方法一：修改目标应用的程序包中的Info.plist，加入以下键值</li></ul><pre tabindex=0><code>&lt;key&gt;LSUIElement&lt;/key&gt;
&lt;true/&gt;
</code></pre><p>不见得对所有App有效，可能造成程序起不来。</p><ul><li>terminal中使用<code>LSAppInfo</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># hide</span>
</span></span><span style=display:flex><span>sudo lsappinfo setinfo -app XXX ApplicationType<span style=color:#f92672>=</span>UIElement
</span></span><span style=display:flex><span><span style=color:#75715e># show </span>
</span></span><span style=display:flex><span>sudo lsappinfo setinfo -app XXX ApplicationType<span style=color:#f92672>=</span>Foreground
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># find xxx, the name of app. </span>
</span></span><span style=display:flex><span>lsappinfo | grep <span style=color:#e6db74>&#34;) \&#34;&#34;</span>
</span></span></code></pre></div><h3 id=屏幕分辨率>屏幕分辨率</h3><p>参考来源： <a href=https://www.ios-resolution.com/>https://www.ios-resolution.com/</a> 分辨率对应
<a href=https://blog.csdn.net/blog_jihq/article/details/80590767>https://blog.csdn.net/blog_jihq/article/details/80590767</a> 设备型号对应</p><p>官方所有机型查看 <a href=https://www.apple.com.cn/iphone/compare/>https://www.apple.com.cn/iphone/compare/</a></p><h3 id=修改terminal中的主机名>修改terminal中的主机名</h3><p><code>sudo scutil --set HostName xx</code></p><h3 id=修改用户名和文件夹>修改用户名和文件夹</h3><p><a href=https://support.apple.com/zh-cn/HT201548>更改 macOS 用户帐户和个人文件夹的名称</a></p><ul><li>新建管理员账号并登录</li><li>修改原/Users/user名称到修改后的名称</li><li>用户与帐户中：<code>Control</code>+ 点击用户，打开高级选项，修改对应的帐户信息：包括名称、全名、文件夹目录(保持与上一步修改的一致)</li><li>保存修改，重启电脑生效</li></ul><h3 id=brew-macos-13-unknown-or-unsupported-macos-version-dunno>brew macos 13 unknown or unsupported macos version dunno</h3><p><code>brew update-reset</code></p><h3 id=brew-国内安装>brew 国内安装</h3><p><a href=https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/>Homebrew镜像使用帮助</a>，<a href=https://mirrors.ustc.edu.cn/help/brew.git.html>ustc/homebrew</a></p><h3 id=ifunbox-同步iphone文件到mac>iFunBox 同步iPhone文件到Mac</h3><p><a href=https://www.i-funbox.com/zh-cn/page-about-us.html>iFunBox</a>，可以查看安装应用的共享日志文件</p><h3 id=fastbot_ios>Fastbot_iOS</h3><p><a href=https://mp.weixin.qq.com/s/QhzqBFZygkIS6C69__smyQ>官方说明</a>，<a href=https://www.cnblogs.com/fnng/p/15738284.html>用户使用说姐</a></p><h3 id=xcode版本>Xcode版本</h3><p><code>xcodebuild -version</code>查看xcode版本信息</p><h3 id=设置开机启动项>设置开机启动项</h3><p><a href=https://www.cnblogs.com/kaerxifa/p/11378558.html>参考</a>——</p><ul><li>生产可执行的shell脚本</li><li>显示简介 中将打开方式修改为 终端</li><li>系统设置 &ndash; 用户与群组 &ndash; 登录项 添加自定义的脚本</li></ul><p>MacOS > 13.4: <code>设置 -- 通用 -- 登录项</code></p><h3 id=xcodexip删除验证>Xcode.xip删除验证</h3><p><code>sudo xattr -d com.apple.quarantine Xcode.app</code></p><h3 id=operation-not-permitted>Operation not permitted</h3><p>权限控制问题，在设置&ndash;安全和隐私&ndash;完全磁盘访问权限中将对应的程序添加即可。</p><h3 id=xcode清除-report-navigator中的logs信息>Xcode清除 Report Navigator中的logs信息</h3><p>关闭Xcode，删除文件夹 <code>rm -fR ~/Library/Developer/Xcode/DerivedData</code>，重新打开Xcode</p><h3 id=provisioning-profile>provisioning profile</h3><p><a href=https://medium.com/@abhimuralidharan/what-is-a-provisioning-profile-in-ios-77987a7c54c2>What is a provisioning profile & code signing in iOS?</a></p><p>苹果要求必须签名后的应用才能安装到设备上，但开发阶段如何处理？这就是 <code>provisioning profile</code> 的作用，作为【开发者账户】和【设备】之间的纽带存在，完成“谁开发的什么应用要安装到哪些设备上”的问题？</p><p>所以这个文件包含了三个部分——</p><ul><li>证书文件 Development Certificates 来自开发中账户，证明“who”的问题，通常包含一年的有效期</li><li>设备列表 Unique Device Identifiers</li><li>AppId 相当于包名，可以使用wild card模式支持一组app；对应于应用的 bundle identifier</li></ul><p>另外还有基础的描述部分，和权限列表(Entitlements)</p><p>这个文件可以从开发中账户下载并切要打包到应用中，安装时设备将进行检查。</p><p><code>.p12</code> 本地私钥，可以从<code>Keychain Access</code>导出并导入到其他电脑。iOS平台上的签名过程可以参考下图——</p><p><img src=https://s3-img.meituan.net/v1/mss_3d027b52ec5a4d589e68050845611e68/ff/n0/0n/b2/02_45284.jpg alt></p><h3 id=证书个数限制>证书个数限制</h3><p>个人证书类型可以创建 3个 证书；企业证书 可创建 100 个证书。bundleId可以任意创建，确保全球唯一即可，不同的证书无法创建相同名称的bundleId</p><p><a href=https://juejin.cn/post/6893431013398020103>iOS证书签名原理分析</a> 解释了下面的过程，<a href=https://www.cnblogs.com/jiebba/p/10412688.html>实操演示</a>。</p><p><strong>Generate a Certificate Signing Request (CSR)</strong>: In the Apple Developer Portal, navigate to Certificates, Identifiers & Profiles. Under Certificates, select the appropriate certificate type (e.g., Development, Production). Follow the instructions to generate a CSR file. This step is usually done when creating a certificate signing request for a development or distribution certificate.</p><p><strong>Obtain a Certificate from a Certificate Authority (CA)</strong>: Submit the CSR file to a trusted Certificate Authority (CA), such as Apple, to obtain a digital certificate. The CA will verify your identity and issue the certificate, which is often in .cer format.</p><p><strong>Import the Certificate into Keychain Access</strong>: Double-click the .cer file to import it into Keychain Access on your macOS system. The certificate should appear in the &ldquo;login&rdquo; keychain.</p><p><strong>Export the Certificate with Private Key as a .p12 file</strong>: In Keychain Access, locate the certificate with the associated private key. Usually, it will have your name or the App ID associated with it. Right-click on the certificate, select &ldquo;Export&rdquo;, and choose a password for the exported .p12 file. Save the file to your desired location.</p><h3 id=使用xcode安装ipa到手机>使用Xcode安装ipa到手机</h3><ul><li>确保ipa已经正确打包</li><li>打开Xcode，连接iPhone</li><li>打开Window -> Devices and Simulators (快捷键Shift + Command + 2)</li><li>把ipa文件拖拽到下图位置。或点击+选择ipa文件</li></ul><h2 id=archive>Archive</h2><p><a href=https://www.jianshu.com/p/20c5e199d47d>苹果开发者账号开启双重认证教程</a>
注册Apple账户且在iOS设备上进行登录（Phone or Pad），在账户信息页面选择 “密码与安全性”，开启双重认证。——目前，不开启双重认证的账户无法注册为开发者账户。</p><p><a href=http://www.applicationloader.net/blog/zh/547.html>开发者账户申请</a>
开启账户双重认证后，注册开发者时，可以选择短信方式进行验证。填写完所有必要信息后，会先收到订单确认信息，但需要等等审核通过。9号11:14申请开发者账号，10号14:00申请通过。</p><blockquote><p>快的话付款后十几分钟后就能用，一般要审核一两天，有可能会发邮件让补充地址信息或者上传身份证，留意好邮件就行了。</p></blockquote><p>&mldr;develop your application&mldr;</p><p><a href=http://www.xlgz520.com/2019/02/12/iOS%E4%B9%8BApp%E6%89%93%E5%8C%85%E4%B8%8A%E4%BC%A0%E4%B8%80%E6%9D%A1%E9%BE%99/>iOS开发之App打包上传详细步骤</a>
其中第三方上传工具可以使用app-specific的密码 <a href=https://support.apple.com/en-us/HT204397>Using app-specific passwords</a></p><h3 id=apple-disk-space-issue>Apple disk space issue</h3><p>System Storage taken too much space<br>存储空间只有3GB可用，频繁提示“空间不足”且这个提示无法禁止。——最终只能暂时打开勿扰模式。</p><p>查看系统占用近70GB。根据这个<a href="https://www.youtube.com/watch?v=4E-sX1NxW9o">视频说明</a>实际是正常的。这个占用实际上包括了：System + Library（system + user）。这样可以查看这三个对应的文件夹到底哪些应用占用了大量空间。例如：删除Android sdk下载的多个platform之后，就释放了7GB左右的空间。</p><p>Other volumns，容器中的其他卷：<a href=https://apple.stackexchange.com/questions/305094/what-is-other-volumes>What is &lsquo;Other Volumes&rsquo;?</a></p><p>You can list these with <code>diskutil apfs list</code>. The standard configuration of such a container is as follows:</p><ul><li>disk1s1, the volume you boot from, mounted at /, shown in Disk Utility as Macintosh HD</li><li>disk1s2, ‘Preboot’, not mounted, hidden</li><li>disk1s3, ‘Recovery’, not mounted, hidden</li><li>disk1s4, ‘VM’, mounted at /private/var/vm, hidden</li></ul><p>The last 3 are grouped as Other Volumes in Disk Utility. They&rsquo;re required by macOS and shouldn&rsquo;t be removed.</p><h3 id=128g-ssd的痛>128G SSD的痛</h3><p>看起来过一段时间就得做一下类似的动作了。</p><ul><li>赋予命令行程序iTerm全局访问磁盘的权限，否则sudo 提示 operation not permitted。&ldquo;System Preferences &ndash;> Security & Privacy &ndash;> Full Disck Access&rdquo;</li><li>查看各个目录占据的大小排行，在根目录下：<code>sudo du -sh * | sort -hr</code></li></ul><p>然后发现下面的情况。反正已经重启了，先任性把Caches都干掉了（还是先看了一眼里面的内容，初步判断没有问题）。</p><pre tabindex=0><code>➜  ~ sudo du -sh * | sort -hr
Password:
 51G	Library
2.9G	projects
574M	GoProjects

// User&#39;s Library
➜  Library sudo du -sh * | sort -hr
 20G	Containers
9.9G	Developer
9.1G	Caches

//System Library
➜  /Library sudo du -h -d 1 | sort -hr
Password:
7.7G	.
5.0G	./Developer
662M	./Desktop Pictures
</code></pre><p>然后发现Containers里的内容就一个Docker的Disk image location就占据了19.8GB的大小。搜索了一圈，很多128GB的Mac用户都深受其苦。</p><ul><li>删除了不用的容器<code>docker container prune</code></li><li>删除了不用的镜像 <code>docker image prune</code></li><li>净化了docker对象 <code>docker system prune</code>，宣告了<code>Total reclaimed space: 4.36GB</code>，但实际还是没有变小。</li></ul><p>按照<a href=https://docs.docker.com/docker-for-mac/space/>官方指导</a>操作一遍，还是没啥效果。<a href=https://github.com/docker/for-mac/issues/371>官方 #issue 371</a>下讨论了很长篇幅。采用<a href=https://github.com/docker/for-mac/issues/371#issuecomment-248404423>高票意见</a></p><pre tabindex=0><code>docker rm $(docker ps -a -q)
docker rmi $(docker images -q)
docker volume rm $(docker volume ls |awk &#39;{print $2}&#39;)
rm -rf ~/Library/Containers/com.docker.docker/Data/*
</code></pre><p>其实最后一步还是直接将原始的Disk image删除了。运行中的Docker直接报错，只好选择“恢复出厂值”——出厂值大小目前为<code>2.3GB</code></p><h3 id=mac允许远程登录>Mac允许远程登录</h3><p>系统&ndash;共享&ndash;远程登录</p><h3 id=mac多台电脑共享屏幕>Mac多台电脑共享屏幕</h3><p>原生支持。多台Mac设备在相同的局域网内，系统设置 &ndash; 共享 &ndash; 屏幕共享（也可以选择其他共享的内容）</p><p>Finder中选择 网络 &ndash; 找到打开共享的机器，选择“共享屏幕”。</p><h3 id=获取app的下载链接>获取app的下载链接</h3><p>在Apple store找到对应App，点击更多，选择Share App，有 Copy link选项。可以获取到对应App的下载链接</p><p>google paly上可以web端搜索对应的app，获取到<a href="https://play.google.com/store/apps/details?id=com.knowroaming.activities">url</a>，然后可以到<a href=https://apkpure.com/>apkpure</a>网站获取下载地址。</p><h3 id=更改主机名新建删除账户>更改主机名，新建删除账户</h3><p><a href=https://support.apple.com/en-gb/guide/mac-help/mchlp2322/mac>menu->preferences->sharing</a></p><p>Change your computer&rsquo;s name or local hostname on Mac</p><p>On your Mac, choose Apple menu > System Preferences, then click Sharing. Open Sharing preferences for me.<br>Type a new name in the Computer Name field. You may need to click the lock icon and provide an administrator name and password before you can change the name.</p><p><a href=https://support.apple.com/en-nz/guide/mac-help/mchlp1557/mac>Delete a user or group on Mac</a></p><p>Apple menu > System Preferences, then click Users & Groups</p><p>新建管理员账号，使用新建管理员账号删除另外一个管理员账号</p><h3 id=升级15版本后xcode无法打开>升级15版本后，XCODE无法打开</h3><p>提示类似：<code>Error Domain=PKInstallErrorDomain Code=102 "The package “XcodeSystemResources.pkg” is untrusted."</code>的错误。</p><p><a href=https://stackoverflow.com/questions/58550284/mobiledevice-pkg-untrusted-cannot-open-xcode-after-os-x-update>Edit and set the date of your Mac as October 1st, 2019.</a></p><p>提示其他package的untrusted问题也使用修改日期的方式来解决。</p><h3 id=快捷键-锁屏>快捷键 锁屏</h3><p><a href=https://support.apple.com/zh-cn/guide/mac-help/welcome/mac>macOS 使用手册</a></p><p>系统自带锁屏快捷键：Ctrl + Command + Q
注意：QQ的快捷键和这个有冲突，需要修改QQ的快捷键。</p><p><a href=https://support.apple.com/zh-cn/HT201236>Mac 键盘快捷键</a></p><p>Control–Shift–电源按钮 将显示器置于睡眠状态。<br>Option–Command–电源按钮 将您的 Mac 置于睡眠状态</p><h3 id=制作ubuntu启动盘>制作ubuntu启动盘</h3><p><a href=https://cto.eguidedog.net/node/826>使用自带磁盘工具+Etcher</a></p><ul><li>应用->其它->磁盘工具</li><li>选择U盘，然后擦除</li><li>选在格式: MS-DOS (FAT)</li><li>打开<a href=https://etcher.io/>Etcher</a></li><li>选择Ubuntu镜像文件</li><li>选择U盘</li><li>点击“Flash”刻录</li></ul><p>使用命令行<a href=https://www.cnblogs.com/Primzahl/p/10524679.html>制作</a>, <a href=https://www.jianshu.com/p/0abdd301e0d6>Mac 制作 Ubuntu 18.04 启动盘</a></p><pre tabindex=0><code>cd Downloads/
# 1. 制作系统.img
hdiutil convert -format UDRW -o ubuntu.dmg ubuntu-18.04.2-desktop-amd64.iso
# 找到U盘挂载的目录
diskutil list
# 取消 U盘 的挂载（但是不要拔掉）
diskutil umountDisk /dev/disk5
# 制作启动盘
mv ubuntu.dmg ubuntu.iso
sudo dd if=./ubuntu.iso of=/dev/disk5 bs=1m
</code></pre><h3 id=xcode-更新更换账号>XCode 更新更换账号</h3><p><a href=https://stackoverflow.com/a/13613340/1087122>How to update Xcode with a new Apple ID?</a><br>XCode安装时使用到时旧ID；后续App Store更换了新ID，XCode更新时提示还是使用到旧ID。</p><ol><li>Open Finder and navigate to Applications,</li><li>Ctrl+Click XCode and choose &ldquo;Show Package Contents&rdquo;,</li><li>Expand the Contents directory and click _MASReceipt to select it,</li><li>Type Command+Delete to delete the directory permanently&mdash;you will be prompted for your credentials since this is a protected file.</li></ol><h3 id=brew-install-local-file>brew install local file</h3><p><a href=http://mygeekdaddy.net/2014/12/05/how-to-install-a-local-file-in-homebrew/>How to install a local file in Homebrew</a><br><a href=https://apple.stackexchange.com/a/328946>How to use Homebrew to install local archive</a></p><pre tabindex=0><code># download your archive
wget https://github.com/zeromq/libzmq/releases/download/v4.3.2/zeromq-4.3.2.tar.gz

# move the archive to your brew --cache
mv zeromq-4.3.2.tar.gz $(brew --cache)

# then install the archive as normal
brew install zeromq
</code></pre><p>使用<code>brew cat zeromq</code>查看zeromq的下载地址</p><h3 id=xip-format>xip format</h3><p><a href=https://ktatsiu.wordpress.com/2016/10/28/how-to-download-xcode-8-x-with-xip-format/>xip format install</a></p><p>A XIP file is analogous to zip file, but allows for a digital signature to be embedded and be verified on the receiving system, before the archive is expanded.</p><p>To verify that a package is signed, execute the following command on a computer with the package:</p><pre tabindex=0><code>pkgutil –check-signature /path/to/package.pkg
</code></pre><p>If the output is “Status: signed by a certificate trusted by Mac OS X”, the package is signed. If the output is “Status: no signature”, the package is not signed.</p><p>Right-Click and open with Archive Utility from Finder.</p><h3 id=运行多个xcode版本>运行多个Xcode版本</h3><p><a href=https://github.com/appium/appium-xcuitest-driver/blob/master/docs/multiple-xcode-versions.md>Running Appium with multiple Xcode versions installed</a><br>显示当前版本：<code>xcode-select --print-path</code><br>更换版本 <code>sudo xcode-select --switch /Applications/Xcode-beta.app/Contents/Developer</code></p><h3 id=mac使用brew安装python3>Mac使用brew安装python3</h3><p><a href=https://wsvincent.com/install-python3-mac/>install python3 on Mac</a><br><a href=https://www.jianshu.com/p/965fd0be3f0c>Permission denied</a></p><pre tabindex=0><code>brew install python3
# 有可能出现文件夹不存在的错误和权限异常，brew会自动给出提示，安装提示进行赋权即可
sudo mkdir /usr/local/Frameworks
sudo chown $(whoami):admin /usr/local/Frameworks

#报错
Permission denied @ dir_s_mkdir - /usr/local/Frameworks

# do 
brew link python
</code></pre><h4 id=python3-virtual-environments>python3: Virtual Environments</h4><ul><li>python3 内置虚拟环境 venv 模块</li><li>定义虚拟环境所在目录，如 <code>~/.virtualenvs</code></li><li>新建一个虚拟环境目录 <code>python3 -m venv ~/.virtualenvs/firstenv</code></li><li>激活这个虚拟环境 <code>source ~/.virtualenvs/firstenv/bin/activate</code></li><li>退出虚拟环境 <code>deactivate</code>或关闭命令行即可</li></ul><p>激活时，可使用 <code>pip freeze</code>查看虚拟环境下的所有已安装软件</p><pre tabindex=0><code>➜  ~ mkdir .virtualenvs
➜  ~ python3 -m venv .virtualenvs/firstenv
➜  ~ source .virtualenvs/firstenv/bin/activate
(firstenv) ➜  ~ pip freeze
(firstenv) ➜  ~ deactivate
</code></pre><h3 id=查看macos版本>查看MacOS版本</h3><pre tabindex=0><code>➜ sw_vers -productVersion
10.14.6
➜ sw_vers
ProductName:	Mac OS X
ProductVersion:	10.14.6
BuildVersion:	18G87

# Generates a text report with the standard detail level.
system_profiler SPSoftwareDataType 

# 查看Mac序列号
system_profiler SPHardwareDataType 
</code></pre><h3 id=could-not-locate-device-support-files>Could not locate device support files.</h3><p><a href=https://stackoverflow.com/a/55975906/1087122>copy from higher Xcode</a></p><p>support files address: <code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/xxversion</code></p><h3 id=brew-安装提示xcode-outdated>brew 安装提示Xcode outdated</h3><blockquote><p>Error: Your Xcode (10.1) is too outdated.
Please update to Xcode 10.2.1 (or delete it).
Xcode can be updated from the App Store.</p></blockquote><p><a href=https://stackoverflow.com/a/56252549/1087122>删除brew的版本检查</a>——</p><p>Open the file <code>/usr/local/Homebrew/Library/Homebrew/extend/os/mac/diagnostic.rb </code>, then delete this line <code>check_xcode_minimum_version</code> in the following function.</p><pre tabindex=0><code>def fatal_build_from_source_checks
    %w[
      check_xcode_license_approved
      check_xcode_minimum_version
      check_clt_minimum_version
      check_if_xcode_needs_clt_installed
    ].freeze
    end
</code></pre><h3 id=mac功能键>Mac功能键</h3><p>设置、键盘、勾选功能键选项</p><h3 id=chrome全屏-commandshift-f>Chrome全屏 Command+Shift +F</h3><h3 id=brew-安装应用的地址>brew 安装应用的地址</h3><pre tabindex=0><code>#don&#39;t update brew and 
HOMEBREW_NO_AUTO_UPDATE=1 brew install -s pkg-config 

#

# brew install hugo
# https://discourse.gohugo.io/t/hugo-homebrew-update-for-osx/82
brew update
brew install hugo

# 安装的路径：/usr/local/Cellar/hugo/
</code></pre><h3 id=强制退出程序>强制退出程序</h3><p>使用快捷键：Command+Option+Esc 打开强制退出程序窗口，然后选中你需要退出的程序，再点右下方的“强制退出”即可。</p><h2 id=美区账户注册之路>美区账户注册之路</h2><p>使用<a href=https://www.jianshu.com/p/9fc3c7b94f90>一枝红杏出墙来</a>里提到的<a href="https://agneo.co/?rc=8d50vj3e">AgentNEO</a>服务，可以在Mac、Windows、Android设备上自由出入。</p><p>但iPhone上使用这个服务需要：先用美区账号登录，付费购买支持的软件Shadowrocket(2.99)、Quantumult(4.99)、Kitsunebi(4.99)才能使用。这不变成了鸡(生蛋)蛋(生鸡)问题了嘛。</p><p>只能先曲线救国了，先注册美区账号再说。这里有<a href=https://support.apple.com/en-us/HT204034>官方教程：Create or use an Apple ID without a payment method</a>、<a href=https://support.apple.com/en-us/HT204316>How to create a new Apple ID</a></p><h3 id=注册账号>注册账号</h3><ul><li>挂上美区的IP地址，访问<a href=https://whatismyipaddress.com/>whatismyipaddress.com</a>检查当前网络IP是否正确</li><li>访问<a href=https://appleid.apple.com/>https://appleid.apple.com</a>开始注册，上一步正确的话，这里可以看到注册时默认是美区账号</li><li>填写密保问题、有效邮件地址（尽量使用gmail、hotmail等国外服务的邮箱）。然后激活邮件（因为是电脑端访问，所以正好直接打卡邮件激活）</li></ul><h3 id=激活账号>激活账号</h3><ul><li><p>注册成功后，从<a href=https://appleid.apple.com/>https://appleid.apple.com</a>登录，填写账单地址和支付方式（支付方式选择为None）、手机号码</p></li><li><p>如果不使用美区IP，注册的时候可能无法选择None选项，参考这里<a href=https://support.apple.com/en-us/HT203905>If you can&rsquo;t remove your last payment method or use no payment method with your Apple ID</a></p></li><li><p>工具：<a href=http://haoweichi.com/>美国地址http://haoweichi.com/</a>、<a href=https://www.fakeaddressgenerator.com/World_Address/get_us_address>生成随机假地址</a>，或者利用google map选择一个你的ip地址(通过第一步可以看到大概位置)附近的生活区域的地址</p></li><li><p>使用虚拟手机号接受短信 <a href=https://smsreceivefree.com/>SMS Receive Free</a>，不一定必须收到短信，这里可以看到有效的手机号码，或者google搜索<code>disposable number</code>获取有效的手机号。需要真实的号码，可以参考<a href=https://blog.shuziyimin.org/348>这个攻略</a></p></li></ul><h3 id=使用账号>使用账号</h3><p>账号注册成功后，首次在App Store使用时会走一遍review流程（同意协议、确认付款方式）。可以下载一个免费的应用走这个流程。</p><p>在下面这个确认付款方式页面时，一直提示<code>For assistance, contact iTunes Support at www.apple.com/support/itunes/ww/.</code>
<img src=https://support.apple.com/library/content/dam/edam/applecare/images/en_US/macos/macos-mojave-app-store-free-app-payment-none.jpg alt></p><p><del>一些无效的尝试</del>
绑定国内的双币信用卡、尝试注册美版Paypal（实践上难度更高）、iPhone设备上使用国内的wifi走流程（干脆就没有None选项）、iPhone设备上使用美区IP走流程（依然无效）</p><p>以上操作耗费了更多的精力，但都没有成功。最后老实进行反馈吧（尽管有点心虚）。</p><ul><li>访问 <a href=www.apple.com/support/itunes/ww/>www.apple.com/support/itunes/ww/</a>选择Unite States地区，进入 <a href=https://support.apple.com/itunes>iTunes页面：https://support.apple.com/itunes</a>，选择右下角都 get supports链接，选择问题类型，描述问题，提供反馈邮箱，提交反馈。</li></ul><p><img src=https://upload-images.jianshu.io/upload_images/3296949-8a1a0738d7b00a3d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 alt></p><ul><li>运气不错，大概两小时后，收到反馈（反馈时间也正好是美区的工作时间端），官方后台做了操作，让我再次走下流程。</li></ul><p><img src=https://upload-images.jianshu.io/upload_images/3296949-eeea3ae57bd6b78f.png alt></p><h3 id=android共享代理>Android共享代理</h3><p>上面的无效尝试也并非没有成果，搜到这篇<a href=https://eugenegeng.blogspot.com/2018/10/share-vpn-with-proxy-server-on-Android-no-root.html>借助Proxy Server实现Android设备免root共享VPN连接</a>文章，尽管评论说v2rayng无效，还是尝试了一下我的。</p><ul><li>从google play搜索下载proxy server</li><li>Android、iPhone设备使用相同的局域网</li><li>Proxy Server根据说明操作，必须的是指定端口，启动后在Info栏可以看到IP</li><li>iPhone端的无线链里的代理修改为手动，使用上一步的IP+端口</li><li>iPhone端使用浏览器访问<a href=https://whatismyipaddress.com/>whatismyipaddress.com</a>检查当前网络IP是否正确</li></ul><p>挂上相同的代理，iPhone端从App Store下载一个免费的App，走到确认支付手段的地方，选择None选项（如果使用国内的wifi，是没有None选项的；如果使用国内信用卡，也始终无法通过Next），Next终于成功。</p><p>首次走完上面的流程之后，再次使用就不需要必须使用美国IP了，因为不需要再走激活流程。付款方式采用none之后，可以使用礼品卡进行充值，可参考<a href=https://www.hurbai.com/iOS/182>这篇文章</a>关注一下注意事项。</p><p>访问<a href=https://www.apple.com/shop/gift-cards/itunes-electronic>礼品卡页面</a>，直接按照流程操作即可。</p><ul><li>两个有效有效（送礼人、接收人）</li><li>一个有效美国地址（作为付款但账单地址）</li><li>使用Guest方式支付（可以使用国内的双币信用卡）</li></ul><p>大概4小时之后可以收到，官方承诺的为24小时发货。
<img src=https://upload-images.jianshu.io/upload_images/3296949-e942a3d746a96c5e.png alt></p><div class="prev-next-post pure-g"><div class=pure-u-1-24 style=text-align:left><a href=http://gebitang.com/post/algo/problems/><i class="fa fa-chevron-left"></i></a></div><div class=pure-u-10-24><nav class=prev><a href=http://gebitang.com/post/algo/problems/>Problems</a></nav></div><div class=pure-u-2-24>&nbsp;</div><div class=pure-u-10-24><nav class=next><a href=http://gebitang.com/post/how/mysql/>Mysql</a></nav></div><div class=pure-u-1-24 style=text-align:right><a href=http://gebitang.com/post/how/mysql/><i class="fa fa-chevron-right"></i></a></div></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="gebitang",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><script src=http://gebitang.com/js/ui.js></script><script src=http://gebitang.com/js/menus.js></script><script>window.location.hostname!="localhost"&&(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-34303694-1","auto"),ga("send","pageview"))</script><button onclick=topFunction() id=myBtn title="Go to top">Top</button></body></html>