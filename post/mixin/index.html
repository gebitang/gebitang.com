<!doctype html><html xmlns:wb=http://open.weibo.com/wb lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=Content-Security-Policy content="upgrade-insecure-requests"><meta name=description content="mixin kernel"><meta name=generator content="Hugo 0.125.7"><title>Go Mixin Go &#183; æˆˆå£å ‚</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=http://gebitang.com/css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=http://gebitang.com/css/side-menu.css><!--<![endif]--><link rel=stylesheet href=http://gebitang.com/css/blackburn.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.9.0/css/all.css><link href="https://fonts.googleapis.com/css?family=Raleway" rel=stylesheet type=text/css><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js></script><script>hljs.initHighlightingOnLoad()</script><link rel="shortcut icon" href=http://gebitang.com/img/favicon.ico type=image/x-icon><link rel=stylesheet href=http://gebitang.com/css/my.css><script src=http://gebitang.com/js/my.js></script></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><a class="pure-menu-heading brand" href=http://gebitang.com/>Gebitang</a><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/><i class='fa fa-home fa-fw'></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/post/><i class='fa fa-list fa-fw'></i>Posts</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/about/><i class='fa fa-user fa-fw'></i>About</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/contact/><i class='fa fa-phone fa-fw'></i>Contact</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/tags/><i class='fa fa-tags fa-fw'></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=http://gebitang.com/topics/><i class='fa fa-folder fa-fw'></i>Topics</a></li></ul></div><div class="pure-menu social"><ul class=pure-menu-list></ul></div><div><div class=small-print><small><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt=çŸ¥è¯†å…±äº«è®¸å¯åè®® style=border-width:0 src=https://i.creativecommons.org/l/by/4.0/80x15.png></a><br>æœ¬<span xmlns:dct=http://purl.org/dc/terms/ href=http://purl.org/dc/dcmitype/Text rel=dct:type>ä½œå“</span>ç”±<a xmlns:cc=http://creativecommons.org/ns# href=http://gebitang.com property="cc:attributionName" rel=cc:attributionURL>&nbsp;Gebitang&nbsp;&nbsp;</a>é‡‡ç”¨<a rel=license href=http://creativecommons.org/licenses/by/4.0/>çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯&nbsp;&copy; 2018</small></div><div class=small-print><small></small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a></small>
<small>Theme&nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a></small></div><div style=display:none><div class=small-print><small><wb:follow-button uid=2446212465 type=red_1 width=67 height=24></wb:follow-button></small></div></div></div></div><div id=main><div class=header><h1>Go Mixin Go</h1><h2>mixin kernel</h2></div><div class=content><div class=post-meta><div><i class="fa fa-calendar fa-fw"></i>
<time>2020-06-30</time></div><div><i class="fa fa-folder fa-fw"></i>
<a class=post-taxonomy-topic href=http://gebitang.com/topics/mixin>mixin</a>&nbsp;/
<a class=post-taxonomy-topic href=http://gebitang.com/topics/go>go</a></div><div><i class="fa fa-tags fa-fw"></i>
<a class=post-taxonomy-tag href=http://gebitang.com/tags/mixin>mixin</a>&nbsp;/
<a class=post-taxonomy-tag href=http://gebitang.com/tags/go>go</a></div></div><nav id=TableOfContents><ul><li><a href=#å¤šç‰ˆæœ¬ç®¡ç†go>å¤šç‰ˆæœ¬ç®¡ç†go</a></li><li><a href=#å¤šç‰ˆæœ¬ç®¡ç†java>å¤šç‰ˆæœ¬ç®¡ç†java</a></li><li><a href=#rumèŠ‚ç‚¹>rumèŠ‚ç‚¹</a></li><li><a href=#apké‡ç­¾å>apké‡ç­¾å</a></li><li><a href=#å¤§ç¾¤>å¤§ç¾¤</a><ul><li><a href=#å‰ç«¯>å‰ç«¯</a></li><li><a href=#åç«¯>åç«¯</a></li></ul></li><li><a href=#å†å²>å†å²</a><ul><li><a href=#ç¬¬ä¸€å‘¨>ç¬¬ä¸€å‘¨</a><ul><li><a href=#ç¬¬ä¸€å¤©>ç¬¬ä¸€å¤©</a></li><li><a href=#ç¬¬äºŒå¤©>ç¬¬äºŒå¤©</a></li></ul></li><li><a href=#ç¬¬äºŒå‘¨>ç¬¬äºŒå‘¨</a><ul><li><a href=#func-closure>func closure</a></li></ul></li></ul></li><li><a href=#kernel>Kernel</a><ul><li><a href=#getinfo>getInfo</a></li><li><a href=#kernel-components>kernel components</a></li><li><a href=#ä¸»ç½‘è½¬è´¦>ä¸»ç½‘è½¬è´¦</a></li><li><a href=#åœ°å€æ ¼å¼>åœ°å€æ ¼å¼</a></li></ul></li><li><a href=#tip>TIP</a></li></ul></nav><p>æ¨èGoè¯­è¨€å…¥é—¨ï¼š<a href=http://golang.iswbm.com/en/latest/index.html>Goç¼–ç¨‹æ—¶å…‰</a>å¯¹åº”çš„å¾®ä¿¡å…¬ä¼—å·ç³»åˆ—<a href="http://mp.weixin.qq.com/mp/homepage?__biz=MzU1NzU1MTM2NA==&amp;hid=1&amp;sn=a016a47829bf9148498adf7195b850b5&amp;scene=18#wechat_redirect">Go è¯­è¨€å…¥é—¨æŒ‡å—</a></p><p>æ–‡ç« å†™çš„é€šä¿—æ˜“æ‡‚ï¼Œå¾ˆå¿«å°±å¯ä»¥è¿‡ä¸€éGoè¯­è¨€å­¦ä¹ çš„æœ€å°å¿…è¦çŸ¥è¯†ç‚¹ã€‚â€”â€”å…ˆâ€œçœ¼åˆ°â€ï¼Œè‡³å°‘å¯ä»¥å…ˆâ€œè¯»æ‡‚â€å¼€æºé¡¹ç›®çš„ä»£ç ï¼Œç„¶åå°è¯•åœ¨å¼€æºé¡¹ç›®ä¸Šæ£é¼“ï¼Œé”»ç‚¼â€œæ‰‹åˆ°â€çš„èƒ½åŠ›ã€‚</p><p><a href=https://github.com/okdaodine/rum-feed>rum feed</a>ä½¿ç”¨çš„<a href=https://www.elephantsql.com/>åœ¨çº¿postgresqlæœåŠ¡</a>å’Œ<a href=https://node.rumsystem.net/>Quorum open node</a>ã€‚</p><h2 id=å¤šç‰ˆæœ¬ç®¡ç†go>å¤šç‰ˆæœ¬ç®¡ç†go</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#å‘½ä»¤ä»¥å®‰è£…gvmï¼š</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bash &lt; &lt;<span style=color:#f92672>(</span>curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#å®‰è£…å®Œæˆåï¼Œå…³é—­å¹¶é‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œæˆ–è€…è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ä½¿gvmç”Ÿæ•ˆï¼š</span>
</span></span><span style=display:flex><span>source ~/.gvm/scripts/gvm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>gvm listall
</span></span><span style=display:flex><span><span style=color:#75715e>#é€‰æ‹©è¦å®‰è£…çš„Goç‰ˆæœ¬ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Goï¼š</span>
</span></span><span style=display:flex><span>gvm install &lt;version&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¾‹å¦‚ï¼Œè¦å®‰è£…Go 1.17ç‰ˆæœ¬ï¼Œå¯ä»¥è¿è¡Œï¼š</span>
</span></span><span style=display:flex><span>gvm install go1.17
</span></span><span style=display:flex><span><span style=color:#75715e># å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢åˆ°å·²å®‰è£…çš„Goç‰ˆæœ¬ï¼š</span>
</span></span><span style=display:flex><span>gvm use &lt;version&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¾‹å¦‚ï¼Œè¦åˆ‡æ¢åˆ°Go 1.17ç‰ˆæœ¬ï¼Œå¯ä»¥è¿è¡Œï¼š</span>
</span></span><span style=display:flex><span>gvm use go1.17
</span></span></code></pre></div><h2 id=å¤šç‰ˆæœ¬ç®¡ç†java>å¤šç‰ˆæœ¬ç®¡ç†java</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…å’Œç®¡ç†å¤šä¸ªJavaç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·ç®¡ç†å™¨æ¥ç®€åŒ–æ­¤è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨sdkmançš„æ­¥éª¤ï¼š</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>curl -s <span style=color:#e6db74>&#34;https://get.sdkman.io&#34;</span> | bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#å®‰è£…å®Œæˆåï¼Œå…³é—­å¹¶é‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œæˆ–è€…è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ä½¿sdkmanç”Ÿæ•ˆï¼š</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>source <span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/.sdkman/bin/sdkman-init.sh&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#åˆ—å‡ºå¯ç”¨çš„Javaç‰ˆæœ¬ï¼š</span>
</span></span><span style=display:flex><span>sdk list java
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#é€‰æ‹©è¦å®‰è£…çš„Javaç‰ˆæœ¬ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Javaï¼š</span>
</span></span><span style=display:flex><span>sdk install java &lt;version&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¾‹å¦‚ï¼Œè¦å®‰è£…Java 11ç‰ˆæœ¬ï¼Œå¯ä»¥è¿è¡Œï¼š</span>
</span></span><span style=display:flex><span>sdk install java 11.0.12-zulu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢åˆ°å·²å®‰è£…çš„Javaç‰ˆæœ¬ï¼š</span>
</span></span><span style=display:flex><span>sdk use java &lt;version&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ä¾‹å¦‚ï¼Œè¦åˆ‡æ¢åˆ°Java 11ç‰ˆæœ¬ï¼Œå¯ä»¥è¿è¡Œï¼š</span>
</span></span><span style=display:flex><span>sdk use java 11.0.12-zulu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#sdkmanåªå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼Œå› æ­¤æ¯ä¸ªç”¨æˆ·å¯ä»¥ç‹¬ç«‹åœ°ç®¡ç†è‡ªå·±çš„Javaç‰ˆæœ¬ã€‚</span>
</span></span></code></pre></div><h2 id=rumèŠ‚ç‚¹>rumèŠ‚ç‚¹</h2><p>è½¬çœ¼ä¸¤å¹´å¤šäº†ã€‚é‡æ–°è¿è¡Œrumå…¨èŠ‚ç‚¹ï¼Œæ–‡æ¡£æ¯”è¾ƒè½åï¼Œæœ€æ–°æºç ç¼–è¯‘ï¼ˆéœ€è¦ä½¿ç”¨go1.19.xç‰ˆæœ¬ï¼Œå®‰è£…çš„1.21ç‰ˆæœ¬ä¸æ”¯æŒï¼Œæ‰€ä»¥æ‰ä½¿ç”¨å¤šç‰ˆæœ¬goç¯å¢ƒï¼‰çš„å·²ç»ä½¿ç”¨æ–‡æ¡£æ­£å¸¸å¯åŠ¨ã€‚å•ç‹¬è·å–çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚<code>api/v1/node</code>å¯ä»¥getå›æ¥nodeä¿¡æ¯ã€‚è¿œç¨‹è¿æ¥æ˜¯æç¤ºjwtä¿¡æ¯ç¼ºå¤±ã€‚</p><p>éœ€è¦ç†ç”±cliå‘½ä»¤<code>.quorum jwt create chain name</code>å…ˆç”Ÿæˆjwt tokenå¹¶ä¿å­˜åˆ°é…ç½®æ–‡ä»¶<code>config/peer_options.toml</code>ä¸­ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨helpå‚æ•°ä¸€æ­¥ä¸€æ­¥æŸ¥çœ‹ä½¿ç”¨è¯´æ˜ã€‚</p><p>å¯ä»¥æºç ç¼–è¯‘äº†ï¼Œå¯åŠ¨å‚æ•°æœ‰ç‚¹å¾®è°ƒã€‚å¯åŠ¨å‚æ•°éœ€è¦æŒ‡å®šapiHostï¼Œå¦åˆ™é»˜è®¤å¯åŠ¨çš„æ˜¯127.0.0.1ï¼Œåªå…è®¸æœ¬åœ°è¿æ¥ï¼ˆnetstat -ano |grep port)ä¹‹åæ‰å‘ç°åŸå› ï¼ˆè¿œç¨‹è¿æ¥ä¸€ç›´ä¸å¥½ä½¿ï¼Œå®šä½åˆ°è¿æ¥ä¸é€šçš„ç°è±¡ï¼‰è¿˜æ˜¯çœ‹ä»£ç æœ€é è°±ï¼Œæ ¹æ®è¯´æ˜æ–‡æ¡£å¯åŠ¨æˆåŠŸ[2024-02-29]</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Usage:
</span></span><span style=display:flex><span>  quorum jwt create chain <span style=color:#f92672>[</span>flags<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Flags:
</span></span><span style=display:flex><span>  -c, --configdir string    config directory <span style=color:#f92672>(</span>default <span style=color:#e6db74>&#34;config&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -p, --peername string     peer name <span style=color:#f92672>(</span>default <span style=color:#e6db74>&#34;peer&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -n, --name string         name of the node jwt
</span></span><span style=display:flex><span>  -d, --duration duration   duration of node jwt <span style=color:#f92672>(</span>default 8760h0m0s<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -h, --help                help <span style=color:#66d9ef>for</span> chain
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æœ€æ–°çš„èµ·ç‚¹å‘½ä»¤ç±»ä¼¼â€”â€”</span>
</span></span><span style=display:flex><span><span style=color:#75715e># run fullnode of quorum</span>
</span></span><span style=display:flex><span><span style=color:#75715e># keystorepass è¦æ”¹</span>
</span></span><span style=display:flex><span><span style=color:#75715e># listen/apiport è¦æ”¹ï¼Œæ³¨æ„ï¼Œä¸‰ä¸ª ç«¯å£ä¸ä¸€æ ·ï¼Œä¸” apiport æ˜¯ api ä¸“ç”¨çš„</span>
</span></span><span style=display:flex><span><span style=color:#75715e># peer ä¸è¦æ”¹ï¼</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>PSW<span style=color:#f92672>=</span>password
</span></span><span style=display:flex><span>nodepath<span style=color:#f92672>=</span>owner
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./quorum fullnode <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --keystorepwd<span style=color:#f92672>=</span>$PSW <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --keystoredir<span style=color:#f92672>=</span>keystore/$nodepath <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --configdir<span style=color:#f92672>=</span>config/$nodepath <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --datadir<span style=color:#f92672>=</span>data/$nodepath <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --peer<span style=color:#f92672>=</span>/ip4/101.42.141.118/tcp/62777/p2p/16Uiu2HAm9uziCEHprbzJoBdG9uktUQSYuFY58eW7o5Dz7rKhRn2j <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --peer<span style=color:#f92672>=</span>/ip4/94.23.17.189/tcp/62777/p2p/16Uiu2HAm5waftP3s4oE1EzGF2SyWeK726P5B8BSgFJqSiz6xScGz <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --listen<span style=color:#f92672>=</span>/ip4/0.0.0.0/tcp/62764 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --listen<span style=color:#f92672>=</span>/ip4/0.0.0.0/tcp/62765/ws <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --apihost<span style=color:#f92672>=</span>0.0.0.0 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --apiport<span style=color:#f92672>=</span><span style=color:#ae81ff>62763</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-compress<span style=color:#f92672>=</span>true <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-max-age<span style=color:#f92672>=</span><span style=color:#ae81ff>7</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-max-backups<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-max-size<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --logfile<span style=color:#f92672>=</span>logs/$nodepath/quorum.log <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --enabledevnetwork<span style=color:#f92672>=</span>false <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --loglevel<span style=color:#f92672>=</span>info &gt;rum.log  2&gt;&amp;<span style=color:#ae81ff>1</span> &amp;
</span></span></code></pre></div><p>è¿è¡ŒæˆåŠŸï¼Œç›®å‰å»ä¸­å¿ƒå¾®åšçš„æ•°æ®å¤§çº¦1.4Gã€‚</p><h2 id=apké‡ç­¾å>apké‡ç­¾å</h2><ul><li>å‡†å¤‡å¥½é‡ç­¾åçš„æ–‡ä»¶</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>keytool -genkey -v -keystore your_keystore_name.keystore -alias your_alias_name -keyalg RSA -keysize <span style=color:#ae81ff>2048</span> -validity <span style=color:#ae81ff>365</span>
</span></span></code></pre></div><ul><li>ä¸‹è½½<a href=https://github.com/iBotPeaches/Apktool>apktool</a>ï¼Œé…ç½®å¥½æ‰§è¡Œç¯å¢ƒ</li><li>å°†apkæ–‡ä»¶è§£å‹<code>java -jar apktool.jar d -o output_dir name.apk</code>è§£å‹åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹</li><li>ç¼–è¾‘å¯¹åº”çš„æ–‡ä»¶</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># original\META-INF æ–‡ä»¶å¤¹ä¸­å­˜æ”¾çš„æ˜¯åŸæœ¬çš„ç­¾åä¿¡æ¯</span>
</span></span><span style=display:flex><span><span style=color:#75715e># apktool.yml æ˜¯åç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 0. ä¿®æ”¹åº”ç”¨åç§° res\value\string.xml æ–‡ä»¶ä¸­çš„ appName</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1. AndroidManifest.xml çš„ åŒ…åpackage=&#34;your.new.name&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. apktool.yml æ–‡ä»¶ ä¿®æ”¹ renameManifestPackage å€¼ä¸ºæ–°çš„åŒ…å</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3. å¦‚æœæœ‰å†²çªçš„privoderï¼Œä¹Ÿéœ€è¦æŠŠAndroidManifestæ–‡ä»¶ä¸­å¯¹åº”çš„provider è¿›è¡Œé‡å‘½åï¼Œä¾‹å¦‚  provider android:authorities=&#34;ccc.li.provider&#34; </span>
</span></span><span style=display:flex><span><span style=color:#75715e># Failure [INSTALL_FAILED_CONFLICTING_PROVIDER: Scanning Failed.: Can&#39;t install because provider name xxx.provider (in package you.new.package) is already used by original.package]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># </span>
</span></span></code></pre></div><ul><li>é‡æ–°æ‰“åŒ…ä¸ºæ–°çš„apkæ–‡ä»¶ <code>apktool b -o new.apk output_dir</code></li><li>é‡æ–°ç­¾åç”Ÿæˆçš„apkæ–‡ä»¶ <code>apksigner sign --ks your.keystore --ks-key-alias your_alias_name --ks-pass pass:123456 new.apk</code></li></ul><h2 id=å¤§ç¾¤>å¤§ç¾¤</h2><h3 id=å‰ç«¯>å‰ç«¯</h3><ol><li>è¿›å…¥webç›®å½•</li><li>æ‰§è¡Œ<code>npm install</code></li><li>æ‰§è¡Œ<code>npm run serve</code>è¿›è¡Œæœ¬åœ°è°ƒè¯•</li></ol><p>å¯èƒ½é‡åˆ°çš„é—®é¢˜â€”â€”</p><ul><li>ç¼–è¯‘æŠ¥é”™<code>typeerror this.getoptions is not a function</code></li></ul><p><a href=https://stackoverflow.com/a/66087132/1087122>it seems like <code>sass-loader@11.0.0</code> doesn&rsquo;t work with <code>vue@2.6.12</code>.</a>é™çº§ä¹‹å<code>"sass-loader": "^10",</code>ä¹‹åç¼–è¯‘æ­£å¸¸</p><ul><li>windowsç¯å¢ƒä¸‹æŠ¥é”™<code>Error: PostCSS received undefined instead of CSS string</code></li></ul><p>ä¸­å¿ƒç¼–è¯‘<code>node-sass</code>åå¯ä»¥æ­£å¸¸å¯åŠ¨äº† <code>npm rebuild node-sass</code></p><h3 id=åç«¯>åç«¯</h3><p>åç«¯æœåŠ¡åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ä¸ºå‰ç«¯æœåŠ¡çš„httpæœåŠ¡ï¼›ä¸€ä¸ªæ˜¯è¿›è¡Œmessageé€šä¿¡çš„æœåŠ¡ã€‚
éœ€è¦é…ç½®ä¸€ä¸ªpostgresæ•°æ®åº“ï¼Œåˆå§‹åŒ–æ–‡ä»¶ä¸ºmodelsç›®å½•ä¸‹çš„<code>schema.sql</code>ã€‚è¿œç¨‹ç™»å½•é—®é¢˜å‚è€ƒ<a href=../how/sonarqube#postgresql%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95>sonarqube</a>ä¸­çš„è¿œç¨‹ç™»å½•éƒ¨åˆ†</p><hr><p>å½“ç„¶å…¥é—¨åï¼Œé‡åˆ°é—®é¢˜é—®é¢˜å¯ä»¥è¿›ä¸€æ­¥æœç´¢å¯¹åº”çš„èµ„æºï¼Œä¾‹å¦‚å…³äºâ€œåˆ‡ç‰‡â€çš„å†…å®¹â€”â€”</p><ul><li><p><a href=https://medium.com/@marty.stepien/arrays-vs-slices-bonanza-in-golang-fa8d32cd2b7c>çŸ­æ–‡ä»‹ç»åŒºåˆ«</a></p></li><li><p><a href=https://github.com/golang/go/wiki/SliceTricks>å®˜æ–¹tricks</a></p></li><li><p><a href=https://blog.golang.org/slices-intro>å®˜æ–¹åšå®¢ä»‹ç»åˆ‡ç‰‡</a></p></li><li><p><strong><a href=https://blog.golang.org/index>å®˜æ–¹åšå®¢ index</a></strong></p></li></ul><p>è¯»å®Œå…¥é—¨ç³»åˆ—ï¼Œå®æ“äº†<a href=../2020/0627-mixin-super-group-deploy/>Mixinå¤§ç¾¤éƒ¨ç½²</a>ï¼Œä¸‹ä¸€æ­¥å¼€å§‹å­¦ä¹ <a href=https://github.com/MixinNetwork/supergroup.mixin.one>Mixin Supergroupçš„ä»£ç é€»è¾‘</a>ï¼Œæ­£å¥½å‰åç«¯ä¸€èµ·æ¥ã€‚</p><p>è®¡åˆ’æ¯å¤©å­¦ä¹ å†…å®¹ï¼š</p><ul><li>æºç é˜…è¯»</li><li>æ¶‰åŠåˆ°çš„APIè°ƒç”¨å¯ä»¥ç‹¬ç«‹ç»ƒæ‰‹</li><li>æ•´ç†å‡ºæ¥ä¸€æ®µæ–‡å­—è®°å½•</li></ul><h2 id=å†å²>å†å²</h2><h3 id=ç¬¬ä¸€å‘¨>ç¬¬ä¸€å‘¨</h3><h4 id=ç¬¬ä¸€å¤©>ç¬¬ä¸€å¤©</h4><p>forkå‡ºæ¥ä¸€ä»½ä»£ç ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œç›´æ¥åœ¨æºç ä¸Šæ·»åŠ æ³¨é‡Šè¿›è¡Œå­¦ä¹ ã€‚</p><p>ç®€å•è¯»å®Œå…¥é—¨ç³»åˆ—ï¼Œç°åœ¨å¤§ç¾¤çš„ä»£ç è‡³å°‘å¯ä»¥çœ‹ä¸‹å»äº†ã€‚é…åˆè¿™å¼ å›¾å°±æ¯”è¾ƒå¥½ç†è§£ï¼Œéƒ¨ç½²çš„æ—¶å€™å¯åŠ¨çš„ä¸¤ä¸ªæœåŠ¡ï¼š<code>http</code>, <code>message</code></p><div class=pure-g><div class=pure-u-1-1><div style="padding:0 .2em"><a href=https://dbarobin.com/2019/05/19/mixin-super-group/ target=_blank><img class=pure-img-responsive src=https://cdn.dbarobin.com/loplv1n.png alt title=æ¶æ„ç¤ºæ„å›¾></a></div></div></div><ul><li>è¯»å–é…ç½®æ–‡ä»¶</li><li>åˆ›å»ºæ•°æ®åº“è¿æ¥</li><li>æ ¹æ®ä¼ é€’çš„å‚æ•°å¯åŠ¨ä¸¤ä¸ªæœåŠ¡</li></ul><p>MessageæœåŠ¡å¯åŠ¨ï¼šä½¿ç”¨ç»“æ„ä½“Hubè¿›è¡ŒåŒ…è£…ï¼šä½¿ç”¨Contextï¼Œå¹¶å¯¹ctxè¿›è¡Œä¸€äº›åˆ—è®¾ç½®ï¼Œæœ€åå¯åŠ¨æ¥å£æ–¹æ³• MessageService.Run()ã€‚</p><p>è¿™ä¸ªå®ç°é‡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘è¿˜æ²¡å®Œå…¨ææ¸…æ¥šï¼Œå¤§æ¦‚æ„æ€æ˜¯åˆ©ç”¨æ•°æ®åº“åšä¸­è½¬ï¼šåˆ¤æ–­å…·ä½“çš„ç¾¤ä¸šåŠ¡ï¼Ÿåœ¨loopä¸­åšæ¶ˆæ¯å¤„ç†ï¼Œä½¿ç”¨WebSockerçš„ä¼ è¾“æ–¹å¼ã€‚</p><p>å¯¹æ¯”èµ·æ¥ï¼ŒGoä»£ç çš„ç¡®çœ‹ç€èˆ’æœâ€”â€”è¿™æ ·ï¼Œå°±å®Œæˆäº†å¹¶å‘ä¸‹çš„ä¸šåŠ¡å¤„ç†é€»è¾‘</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>distribute</span>(<span style=color:#a6e22e>ctx</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>loopInactiveUsers</span>(<span style=color:#a6e22e>ctx</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>loopPendingMessages</span>(<span style=color:#a6e22e>ctx</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>handlePendingParticipants</span>(<span style=color:#a6e22e>ctx</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>handleExpiredPackets</span>(<span style=color:#a6e22e>ctx</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>handlePendingRewards</span>(<span style=color:#a6e22e>ctx</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>loopPendingSuccessMessages</span>(<span style=color:#a6e22e>ctx</span>)
</span></span></code></pre></div><p>çŸ¥è¯†ç‚¹ï¼š</p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU1NzU1MTM2NA==&amp;mid=2247483769&amp;idx=1&amp;sn=5ce6c75ecccad89f455f5c43712a6d74&amp;scene=19#wechat_redirect">æœ‰å…³åŒ…å¯¼å…¥</a></p><ul><li>åŒ¿åå¯¼å…¥ <code>_ "net/http/pprof"</code>ï¼Œæ˜¾ç¤ºå¯¼å…¥æ—¶ä¸ä½¿ç”¨ä¼šæŠ¥é”™ï¼Œé‡‡ç”¨åŒ¿åå¯¼å…¥çš„æ–¹å¼ï¼Œé»˜è®¤ä¼šæ‰§è¡Œå¯¼å…¥çš„åŒ…çš„<code>init</code>æ–¹æ³•ã€‚initæ–¹æ³•å…ˆäºmainæ–¹æ³•æ‰§è¡Œï¼Œå¹¶ä¸”æ·±åº¦ä¼˜å…ˆã€‚â€œå¯¼å…¥çš„å¯¼å…¥çš„å¯¼å…¥çš„åŒ…â€çš„initæ–¹æ³•æœ€æ–°æ‰§è¡Œ</li></ul><p>åŒ…å¼•ç”¨å…³ç³»ï¼š<code>mainâ†’Aâ†’Bâ†’C</code>ï¼Œé‚£ä¹ˆåˆå§‹åŒ–é¡ºåºä¸º<code>C.initâ†’B.initâ†’A.initâ†’main</code>ï¼Œç¼–è¯‘æ—¶ï¼ŒåŒ¿åå¯¼å…¥çš„åŒ…ä¾ç„¶ä¼šç¼–è¯‘åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚</p><h4 id=ç¬¬äºŒå¤©>ç¬¬äºŒå¤©</h4><p><a href=https://w3c.group/c/1567337919309762>Mixin Messenger æœºå™¨äººæ¥å…¥æŒ‡å—</a></p><blockquote><p>APP_BUTTON çš„ action æ”¯æŒ <code>input:SOMETHING</code> ã€‚ä¾‹å¦‚å½“å‰çš„ App Button çš„ action æ˜¯ â€œinput:subscribeâ€ ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªæŒ‰é’®æ—¶å®¢æˆ·ç«¯ä¼šè‡ªåŠ¨å‘é€ä¸€æ¡ â€œsubscribeâ€ çš„æ¶ˆæ¯ç»™æœºå™¨äººï¼Œå¼€å‘è€…å¯ä»¥ä»»æ„æŒ‡å®š input åé¢çš„æ–‡å­—ã€‚</p></blockquote><p>æ ¹æ®å¤§ç¾¤çš„ä»£ç ä»¥åŠ<a href=https://developers.mixin.one/api/beta-mixin-message/websocket-messages/>APIè¯´æ˜</a>ï¼Œactionä¹Ÿå¯ä»¥ä¸ºurlåœ°å€ï¼Œä½œä¸ºè®¤è¯é¦–é¡µä½¿ç”¨</p><pre tabindex=0><code>  {
    &#34;id&#34;: &#34;UUID&#34;,
    &#34;action&#34;: &#34;CREATE_MESSAGE&#34;,
    &#34;params&#34;: {
      &#34;conversation_id&#34;: &#34;UUID&#34;,
      &#34;category&#34;: &#34;APP_BUTTON_GROUP&#34;,
      &#34;status&#34;: &#34;SENT&#34;,
      &#34;message_id&#34;: &#34;UUID&#34;,
      &#34;data&#34;: &#34;Base64 encoded data&#34;
    }
  }

# data format
[{&#34;label&#34;: &#34;Mixin Website&#34;, &#34;color&#34;: &#34;#46B8DA&#34;, &#34;action&#34;: &#34;https://mixin.one&#34;}, ...]
</code></pre><p>è®°å¾—ç­¾åˆ°<a href=https://github.com/yiplee/blockquiz>ç­”é¢˜æœºå™¨äºº</a>æœ‰å¯¹è¯å¼å¼çš„äº¤äº’ã€‚ä¸‹è½½ä¸‹æ¥è¯»äº†ä¸‹æºç ï¼Œä¸€ç›´æ²¡ææ¸…æ¥šçš„å…³é”®ç‚¹æ˜¯ï¼šâ€œæä¾›ç»™ç”¨æˆ·é€‰é¡¹ï¼Œç”¨æˆ·é€‰æ‹©åï¼Œå¯ä»¥çŸ¥é“ç”¨æˆ·çš„é€‰æ‹©æ˜¯ä»€ä¹ˆï¼Ÿâ€</p><ul><li>å®šä½åˆ°äº†å¦‚ä½•æä¾›ç”¨æˆ·é€‰é¡¹</li><li>åé¢ç”¨æˆ·é€‰æ‹©ï¼Œä»¥åŠç”¨æˆ·é€‰æ‹©äº†ä»€ä¹ˆä¸€ç›´æ²¡ææ¸…æ¥š</li></ul><p>æœç´¢ä¹‹åï¼Œè¿˜æ˜¯é•¿è€çš„æ•™ç¨‹é‡Œè¯´å¾—æ˜ç™½ã€‚å‚è§å¦‚ä¸Šã€‚é•¿è€çš„å¦å¤–ä¸€ç¯‡æ–‡ç« <a href=https://w3c.group/c/1573118879471104>Mixin å…¬é“¾</a>ï¼Œä¼ è¯´ä¸­çš„ä¸€ç¯‡æ–‡ç« ææ‡‚ç³»åˆ—â€”â€”è¿™ç¯‡å…¨éƒ¨ç†è§£é€å½»ï¼Œç®—å¾—ä¸ŠMixinä¸“å®¶äº†ã€‚</p><h3 id=ç¬¬äºŒå‘¨>ç¬¬äºŒå‘¨</h3><p>æ‰§è¡Œæ•°æ®åº“äº‹åŠ¡ã€‚è¿™ç§å®ç°å¯ä»¥ç†è§£ä¸šåŠ¡é€»è¾‘ã€‚</p><h4 id=func-closure>func closure</h4><p>modelsç›®å½•ä¸‹çš„<code>property.go</code>ä¸­åŒ…å«ä»¥ä¸‹æ–¹æ³•â€”â€”å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚è¿™é‡Œå¯¹boolå˜é‡bçš„èµ‹å€¼æ“ä½œæœ‰ç‚¹ç§€ï¼Ÿï¼ˆä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·æ“ä½œï¼Ÿï¼‰</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ReadProhibitedProperty</span>(<span style=color:#a6e22e>ctx</span> <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Context</span>) (<span style=color:#66d9ef>bool</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//ä¼ é€’åŒ¿åå‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>session</span>.<span style=color:#a6e22e>Database</span>(<span style=color:#a6e22e>ctx</span>).<span style=color:#a6e22e>RunInTransaction</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#66d9ef>nil</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>ctx</span> <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Context</span>, <span style=color:#a6e22e>tx</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>sql</span>.<span style=color:#a6e22e>Tx</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span> = <span style=color:#a6e22e>readPropertyAsBool</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#a6e22e>tx</span>, <span style=color:#a6e22e>ProhibitedMessage</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>, <span style=color:#a6e22e>session</span>.<span style=color:#a6e22e>TransactionError</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// å®é™…æ‰§è¡Œçš„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>readPropertyAsBool</span>(<span style=color:#a6e22e>ctx</span> <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Context</span>, <span style=color:#a6e22e>tx</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>sql</span>.<span style=color:#a6e22e>Tx</span>, <span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) (<span style=color:#66d9ef>bool</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>query</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;SELECT %s FROM properties WHERE name=$1&#34;</span>, <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>propertiesColumns</span>, <span style=color:#e6db74>&#34;,&#34;</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>row</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>tx</span>.<span style=color:#a6e22e>QueryRowContext</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>property</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>propertyFromRow</span>(<span style=color:#a6e22e>row</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>property</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>property</span>.<span style=color:#a6e22e>Value</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;true&#34;</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¢«è°ƒç”¨çš„å‡½æ•°å®šä¹‰åœ¨durableç›®å½•ä¸‹çš„<code>database.go</code>æ–‡ä»¶ä¸­â€”â€”</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>d</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Database</span>) <span style=color:#a6e22e>RunInTransaction</span>(<span style=color:#a6e22e>ctx</span> <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Context</span>, <span style=color:#a6e22e>opts</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>sql</span>.<span style=color:#a6e22e>TxOptions</span>, <span style=color:#a6e22e>fn</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>ctx</span> <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Context</span>, <span style=color:#a6e22e>tx</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>sql</span>.<span style=color:#a6e22e>Tx</span>) <span style=color:#66d9ef>error</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tx</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>BeginTx</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#a6e22e>opts</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fn</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#a6e22e>tx</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>tx</span>.<span style=color:#a6e22e>Rollback</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>tx</span>.<span style=color:#a6e22e>Commit</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¸Šé¢çš„ä»£ç ï¼ŒåŸç†ä¸Šç†è§£è¿˜æœ‰ç‚¹å›°éš¾ï¼Œè¿™äº›èµ„æ–™éœ€è¦å‚è€ƒä¸€ä¸‹ï¼š</p><p><a href=https://stackoverflow.com/questions/12655464/can-functions-be-passed-as-parameters>Can functions be passed as parameters?</a></p><p><a href=https://tour.golang.org/moretypes/25>go tour: Function closures</a> å®Œæ•´çš„çš„<a href=https://tour.golang.org/list>go tour</a> ï¼ˆç°åœ¨å±…ç„¶å¯¹æœ‰äº›å›½å®¶ä¸æä¾›æœåŠ¡ï¼Ÿï¼‰</p><p>Go functions may be <code>closures</code>. A closure is a function value that references variables from outside its body. The function may access and assign to the referenced variables; in this sense the function is &ldquo;bound&rdquo; to the variables.</p><p>For example, the adder function returns a closure. Each closure is bound to its own <code>sum</code> variable.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>adder</span>() <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>sum</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>sum</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>x</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>sum</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>pos</span>, <span style=color:#a6e22e>neg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>adder</span>(), <span style=color:#a6e22e>adder</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>pos</span>(<span style=color:#a6e22e>i</span>),
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>neg</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>),
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=kernel>Kernel</h2><p>ä»£ç åªæœ‰15Kå°±å®Œæˆäº†ç™½çš®ä¹¦çš„æŠ€æœ¯å®ç°ã€‚å¯ä»¥è¯»æ–‡æ¡£ï¼Œç»“åˆä»£ç å­¦ä¹ ä¸€ä¸‹ã€‚</p><pre tabindex=0><code>140 text files.
140 unique files.
43 files ignored.
--------------------------------------------------------------------------------
Language                      files          blank        comment           code
--------------------------------------------------------------------------------
Go                              113           1839             89          15140
Markdown                          9            327              0           1249
JSON                              2              0              0            196
XML                               4              0              0             81
TOML                              1              4             14             16
Bourne Again Shell                1              4              0             12
Bourne Shell                      1              1              0              4
--------------------------------------------------------------------------------
SUM:                            131           2175            103          16698
--------------------------------------------------------------------------------
</code></pre><p>ç¬¬ä¸€æ­¥ç¼–è¯‘ï¼ŒMacä¸Šæ²¡æœ‰é—®é¢˜ï¼ŒWindowsä¸‹æç¤º<code>exec: â€œgccâ€: executable file not found in %PATH%</code>ï¼Œéœ€è¦å®‰è£…ä¸€ä¸‹gccçš„ç¯å¢ƒï¼Œ<a href=https://stackoverflow.com/questions/43580131>å‚è€ƒ</a>â€”â€”</p><ul><li>ä»<a href=https://sourceforge.net/projects/mingw-w64/files/>mingw-w64</a>è¿™é‡Œä¸‹è½½ç¼–è¯‘å¥½çš„MinGW-W64 GCC-8.1.0ï¼Œé€‰æ‹©<code>x86_64</code>ç‰ˆæœ¬çš„</li><li>è§£å‹åå°†ç›®å‰ä¸‹çš„binæ–‡ä»¶å¤¹æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</li></ul><p>é‡æ–°ç¼–è¯‘åç”Ÿæˆmixin.exeæ–‡ä»¶ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨â€”â€”è¿™ä¸€ç‚¹goè¯­è¨€çš„ç¡®æœ‰ä¼˜åŠ¿ï¼Œç›´æ¥æ‰“åŒ…å‡ºæ¥çš„äº§å‡ºç‰©å°±å¯ä»¥ä½¿ç”¨</p><p>åˆ›å»ºè¿è¡Œæµ‹è¯•ç½‘ç»œ<code>mixin setuptestnet</code>ä¼šç›´æ¥åœ¨exeæ‰€åœ¨ç›®å½•åˆ›å»ºå¯¹åº”çš„ç›®å½•â€¦â€¦ä¸€ç³»åˆ—é€»è¾‘å‚è€ƒæºç å§ï¼šç”Ÿæˆä¸ƒä¸ªåœ°å€ï¼Œåˆ›å»ºä¸ƒä¸ªç›®å½•ã€‚ä¸ºä¸‹ä¸€æ­¥å¯åŠ¨ä¸»ç½‘åšå‡†å¤‡ã€‚</p><p>ä¾æ¬¡æ‰§è¡Œ<code>mixin kernel -dir /tmp/mixin-7001 -port 7001</code> å¯åŠ¨ä¸ƒä¸ªèŠ‚ç‚¹ã€‚å¯ä»¥æ ¹æ®logè¾“å‡ºç»“åˆä»£ç çœ‹çœ‹è¿è¡Œé€»è¾‘ã€‚è¿è¡Œäº†ä¸€ä¼šï¼Œäº§ç”Ÿäº†28Gçš„æ•°æ®ã€‚</p><p>ä¸»ç½‘ä»£å¸è½¬è´¦çš„è¯´æ˜åº”è¯¥æ— æ³•åœ¨æµ‹è¯•ç¯å¢ƒä¸‹å®ç°ã€‚å› ä¸ºæ²¡æœ‰å®é™…çš„Domainå°†èµ„äº§æ¥å…¥åˆ°ä¸»ç½‘ã€‚</p><p>æ˜¨å¤©çš„RPCè°ƒç”¨ä¸€ç›´ä¸æˆåŠŸï¼Œä»Šå¤©é˜…è¯»æºç ä¹‹åï¼Œå°±çŸ¥é“æ­£ç¡®çš„å§¿åŠ¿äº†â€”â€”æœ¬åœ°è¿”å›å¤§æ¦‚æ˜¯è¿™æ ·æ»´ï¼Œçº¿ä¸Šç¯å¢ƒç±»ä¼¼ï¼Œåªæ˜¯æ•°æ®æ›´å¤šä¸€äº›ã€‚</p><h3 id=getinfo>getInfo</h3><p><code>mixin -n http://127.0.0.1:8001 getinfo</code> ç«¯å£é»˜è®¤+1000ï¼›è¿”å›å€¼æœ€åçš„<code>node</code>å­—æ®µä»£è¡¨è‡ªå·±</p><pre tabindex=0><code>{
    &#34;epoch&#34;:&#34;2021-01-28T16:41:41+08:00&#34;,
    &#34;graph&#34;:{
        &#34;cache&#34;:Object{...},
        &#34;consensus&#34;:[
            Object{...},
            Object{...},
            Object{...},
            Object{...},
            Object{...},
            Object{...},
            Object{...}
        ],
        &#34;final&#34;:Object{...},
        &#34;sps&#34;:0,
        &#34;topology&#34;:7
    },
    &#34;mint&#34;:{
        &#34;batch&#34;:0,
        &#34;pool&#34;:&#34;500000.00000000&#34;
    },
    &#34;network&#34;:&#34;28f297fa972963a7dde67c02dc5169bb7f5d2227d22b71ab458560c7fd70b8ed&#34;,
    &#34;node&#34;:&#34;4fd6038742ef3f3c4b8a3a08567e11ba5921171b2e7638b520b8e75f707a04c8&#34;,
    &#34;queue&#34;:{
        &#34;caches&#34;:0,
        &#34;finals&#34;:0
    },
    &#34;timestamp&#34;:&#34;2021-01-28T16:41:41.000000001+08:00&#34;,
    &#34;uptime&#34;:&#34;57.732462s&#34;,
    &#34;version&#34;:&#34;v0.9.9-BUILD_VERSION&#34;
}
</code></pre><p>å¦‚ä½•çŸ¥é“ä¸»ç½‘åœ°å€å¯¹åº”çš„nodeï¼Ÿ</p><p>è·Ÿè¸ªäº†ä¸€äº›â€”â€”CVäº†ä¸€äº›ä»£ç ï¼Œè·å–åˆ°<code>IdForNetwork</code>çš„å€¼ã€‚ä¸çŸ¥é“ç§é’¥çš„æƒ…å†µä¸‹æ˜¯æ— æ³•å°†<code>genesis.json</code>ä¸­çš„åœ°å€è·Ÿconfigä¸­çš„hostå¯¹åº”èµ·æ¥çš„ã€‚è¿™æ ·ä¹Ÿå¯åŠ¨éšç§ä¿æŠ¤çš„ä½œç”¨ã€‚æ ¹æ®<code>IdForNetwork</code>æ¥å¯¹åº”hostå³å¯ã€‚è·å–ä¸åŒhostçš„<code>getinfo</code>å³å¯</p><p>JSONè§£æï¼š<code>cannot unmarshal string into go struct field</code> éœ€è¦è®©å¯¹åº”çš„structå®ç°<code>MarshalJSON(b []byte) error</code>å’Œ<code>UnmarshalJSON(b []byte) error</code>æ–¹æ³•ï¼Œå°±å¯ä»¥å®Œæˆè‡ªå®šä¹‰çš„è§£æï¼Œ<a href=https://golang.org/pkg/encoding/json/>å®˜æ–¹ç¤ºä¾‹</a>ï¼Œè¯¦ç»†ä»‹ç»<a href=https://blog.golang.org/json>blog golang json</a></p><p>æµ‹è¯•ç½‘ç»œå¦‚ä½•æ­£å¸¸å…³é—­ï¼Ÿå¦åˆ™é‡å¯â€”â€”</p><pre tabindex=0><code>badger 2021/01/29 20:58:18 INFO: All 0 tables opened in 0s
badger 2021/01/29 20:58:18 INFO: Replaying file id: 0 at offset: 0
badger 2021/01/29 20:58:18 WARNING: Truncate Needed. File /tmp/mixin-7001/snapshots\000000.vlog size: 2147483646 Endoffset: 19566
During db.vlog.open: Value log truncate required to run DB. This might result in data loss
</code></pre><p><a href=https://github.com/dgraph-io/badger/issues/744>badger issue 744</a> <code>Win7 will be prompted, Mac can start normally</code>å¼€èµ·æ¥æ˜¯æ­£å¸¸ç°è±¡ã€‚å¯åŠ¨å‚æ•°æ·»åŠ <code>opt.Truncate=true</code>å¯è§£å†³ï¼Œ<a href=https://github.com/dgraph-io/badger/issues/1353>å‚è€ƒ</a></p><h3 id=kernel-components>kernel components</h3><p>å¯ä»¥æ¢³ç†ä¸€äº›kerneléƒ½ç”¨åˆ°äº†å“ªäº›å¼€æºç»„ä»¶ã€‚æŸ¥çœ‹é¡¹ç›®çš„<a href=https://github.com/MixinNetwork/mixin/blob/master/go.mod><code>go.mod</code></a>æ–‡ä»¶å¯ä»¥æœ‰è·å–å…¨éƒ¨ä¿¡æ¯ã€‚</p><ul><li><a href=https://github.com/dgraph-io/badger>Badger</a> <code>Fast key-value DB in Go.</code> å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨SSD</li><li><a href=https://github.com/FiloSottile/edwards25519>edwards25519</a> googleå†…Goå›¢é˜Ÿè´Ÿè´£å¯†ç å’Œå®‰å…¨çš„å¤§ç‰›å®ç°çš„edwards25519æ¤­åœ†æ›²çº¿å®ç°ï¼Œåˆ›å»ºåœ°å€çš„åŸºç¡€</li></ul><h3 id=ä¸»ç½‘è½¬è´¦>ä¸»ç½‘è½¬è´¦</h3><p><a href=https://github.com/MixinNetwork/developers.mixin.one/blob/main/developers/src/i18n/zh/document/mainnet/tutorials/full-node-join.md>è½¬è´¦æ–¹å¼</a></p><ul><li>æœºå™¨äººçš„æˆæƒä»¤ç‰Œè°ƒç”¨ POST /transactions è½¬å…¥åˆ°ä¸»ç½‘åœ°å€ã€‚<a href=https://developers.mixin.one/document/wallet/api/transfer-to-mainnet>transfer-to-mainnet</a>æµè§ˆå™¨é»˜è®¤è‹±æ–‡ç¯å¢ƒï¼Œæ²¡æœ‰è¿™ä¸ªapiçš„è¯´æ˜ï¼ˆé»˜è®¤ä¸­æ–‡ç¯å¢ƒæ—¶æœ‰ï¼‰ï¼Œ</li><li>ä½¿ç”¨å®˜æ–¹æä¾›çš„æœºå™¨äººbotè½¬è´¦ï¼Œæœ€ç»ˆä¹Ÿæ˜¯è°ƒç”¨çš„ç›¸åŒAPIâ€”â€”è°ƒç”¨æˆåŠŸ<code>Mixin transfer success snapshotId: 7cf6d709-c048-4c74-a7da-b822e9d84e09, transaction hash: 6cabed5cff5becd72a3533a318d49ee002ae38d27c18cba9b4710f4c770a624b</code>ã€‚è½¬è´¦æˆåŠŸåï¼Œè°ƒç”¨ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„<code>gettransaction</code>APIéƒ½å¯ä»¥æŸ¥è¯¢åˆ°ç»“æœ</li></ul><p>Javaçš„apiè¿˜æ²¡è°ƒé€šï¼Œçœ‹èµ·æ¥åŠ å¯†é”™è¯¯ï¼Œç›®å‰æç¤ºï¼š<code>PIN incorrect.</code>ä¸‹ä¸€æ­¥å‚è€ƒgoçš„å®ç°debugä¸€ä¸‹ã€‚Javaä¸‹çš„è½¬è´¦apiå·¥ä½œOKçš„</p><h3 id=åœ°å€æ ¼å¼>åœ°å€æ ¼å¼</h3><ul><li><a href=https://github.com/AlexiaChen/AlexiaChen.github.io/issues/15>ä»ç¾¤ç¯åŸŸåˆ°æ¤­åœ†æ›²çº¿å¯†ç å­¦</a></li><li><a href=https://github.com/AlexiaChen/AlexiaChen.github.io/issues/103>æ·±å…¥äº†è§£Ed25519</a></li><li><a href=https://www.infoq.cn/article/lbo7imfxawd6um6a6qy8>ä¸€åœºæ¤­åœ†æ›²çº¿çš„å¯»æ ¹é—®ç¥–ä¹‹æ—…</a></li><li><a href=http://aandds.com/blog/eddsa.html>Ed25519 å…¬é’¥ä»ç§é’¥å“ˆå¸Œ SHA-512(k) çš„â€œå·¦åŠéƒ¨åˆ†â€è®¡ç®—è€Œæ¥</a></li></ul><p>æ¯ä¸ªåœ°å€/ç§˜é’¥éƒ½æ˜¯åŸºäº<code>twisted Edwards curve</code>ç”Ÿæˆçš„åœ°å€ï¼Œç”¨æ¥è¿›è¡Œéå¯¹ç§°åŠ å¯†ã€‚</p><pre tabindex=0><code>-x^2 + y^2 = 1 + -(121665/121666)*x^2*y^2
</code></pre><p>ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆåˆ›å»ºåœ°å€çš„éšæœº64ä½å­—èŠ‚çš„seedï¼š</p><ul><li>åˆ›å»ºéšæœº64ä½byteä½œä¸ºseed1ï¼Œå¯¹å…¶è¿›è¡ŒSHA3-256å“ˆå¸Œå–å€¼è·å–åˆ°32ä½byteæ•°ç»„hash1</li><li>å°†hash1å†åšä¸€æ¬¡SHA3-256å“ˆå¸Œè·å¾—hash2</li><li>å°†hash1å’Œhash2åˆå¹¶å¾—åˆ°64ä½çš„seed2</li></ul><p>ç¬¬äºŒæ­¥ï¼šç”Ÿæˆåœ°å€</p><ul><li>ä½¿ç”¨seed1ç”Ÿæˆ32ä½byteé•¿åº¦çš„Keyä½œä¸ºspend Key</li><li>ä½¿ç”¨seed2ç”Ÿæˆ32ä½byteé•¿åº¦çš„Keyä½œä¸ºview Key</li></ul><p>view keyå¯ä»¥æŸ¥çœ‹å¯¹åº”åœ°å€çš„è½¬è´¦ä¿¡æ¯ï¼›å‘èµ·è½¬è´¦ä¿¡æ¯åŒæ—¶éœ€è¦spend keyå’Œview keyã€‚</p><p>åœ°å€åŒ…å«äº†ä¸€å¯¹ç§é’¥ï¼Œå…¬é’¥å¯ä»¥é€šè¿‡ç§é’¥è®¡ç®—å¾—å‡º</p><pre tabindex=0><code>A Scalar is an integer modulo 
    l = 2^252 + 27742317777372353535851937790883648493
which is the prime order of the edwards25519 group.
This type works similarly to math/big.Int, and all arguments and receivers are allowed to alias.
The zero value is a valid zero element.
</code></pre><h2 id=tip>TIP</h2><p>Mixinä½¿ç”¨çš„å…­ä½PIMç ç®¡ç†ç”¨æˆ·ç§é’¥çš„æ–¹æ¡ˆæ­£å¼å¼€æºã€‚2000+è¡Œä»£ç å®Œæˆã€‚</p><p>å¼•ç”¨ä¸€ä¸‹éªšæ€»çš„è¯„è®ºâ€”â€”</p><blockquote><p>æ™“ä¸œæ˜¯æˆ‘è§è¿‡æœ€ç‰›é€¼ç¨‹åºå‘˜ï½ï¸ ä»–å‰å‡ å¤©æ„Ÿå†’äº†ï¼Œç¨å¾®å¥½ç‚¹çš„æ—¶å€™ï¼Œç»™æˆ‘ä»¬è®²äº†ä¸€ä¸‹Mixinæ”¯æŒåŸé“¾èµ„äº§é’±åŒ…çš„æ€è·¯ï¼Œç„¶åæ™šä¸Šå¤§æäº†ä¸€ä¸‹ï¼Œå¥½åƒæ˜¯æ¯äººæäº†å¤§çº¦12000æï¼ˆæˆ‘ä»¬å‘æ˜çš„é…’ç²¾å•ä½ï¼Œ1æ=0.01mlé…’ç²¾ï¼‰ï½ åé¢ä¸¤å¤©ä¹Ÿä¸æ€ä¹ˆè¯´è¯ï¼Œåƒé¥­ä¹Ÿä¸æ€ä¹ˆæ„¿æ„å»äº†ï¼Œæ€»å»æœ€è¿‘çš„éº¦å½“åŠ³ï¼Œä¸€å¤©åˆ°æ™šåç”µè„‘å‰ï¼Œæˆ‘ä¸€åº¦ä»¥ä¸ºä»–æ„Ÿå†’æ²¡å¥½ï¼ŒçŠ¶æ€ä¸ä½³ï½âŒ¨ï¸ è¿‡äº†ä¸¤å¤©è·Ÿæˆ‘ä»¬è¯´ï¼Œä»–å·²ç»å†™å®Œäº†ä»£ç ï¼Œéšæ—¶å¯ä»¥ä¸Šçº¿ï½âœ… ååœ¨å¯¹é¢çš„æˆ‘æ„Ÿåˆ°å¾ˆæƒ­æ„§ï¼Œåªèƒ½å®‰æ…°è‡ªå·±ï¼Œæ¯ä¸ªäººæ“…é•¿çš„ä¸ä¸€æ ·ï¼Œæ¯ä¸ªäººéƒ½æœ‰ç‹¬ç‰¹çš„ä»·å€¼ï½ğŸ¤¦â€â™‚ï¸ ä»Šå¤©ä»–å‘å¸ƒäº†è¯¦ç»†çš„ 6 ä½æ•°å­— PIN ç å®ç°æ–¹æ¡ˆå¼€æºç‰ˆæœ¬ï¼š <a href=https://github.com/MixinNetwork/tip>https://github.com/MixinNetwork/tip</a></p></blockquote><p>ç”¨åˆ°äº†<a href=https://en.wikipedia.org/wiki/BLS_digital_signature>Boneh-Lynn-Shacham (BLS) signature</a>ç®—æ³•åšç­¾ã€‚æœ‰å…³BLSä»‹ç»å‚è€ƒè¿™ä¸ª<a href=https://ethfans.org/posts/bls-signatures-better-than-schnorr>ç†è§£ BLS ç­¾åç®—æ³•</a>ï¼Œ<a href=https://medium.com/cryptoadvance/bls-signatures-better-than-schnorr-5a7fe30ea716>è‹±æ–‡åŸæ–‡: BLS signatures: better than Schnorr</a>ä»¥åŠå¯¹äºå¯¹äºSchnorrç®—æ³•çš„ä»‹ç»<a href=https://medium.com/cryptoadvance/how-schnorr-signatures-may-improve-bitcoin-91655bcb4744>How Schnorr signatures may improve Bitcoin</a></p><blockquote><p>BLS ç­¾åç®—æ³•æ˜¯ä¸€ç§å¯ä»¥å®ç°ç­¾åèšåˆå’Œå¯†é’¥èšåˆçš„ç®—æ³•ï¼ˆå³å¯ä»¥å°†å¤šä¸ªå¯†é’¥èšåˆæˆä¸€æŠŠå¯†é’¥ï¼Œå°†å¤šä¸ªç­¾åèšåˆæˆä¸€ä¸ªç­¾åï¼‰ã€‚</p></blockquote><p>è¿™å…¶å®æ˜¯ç®—æ³•å‘æ˜è€…çš„ä¸‰ä¸ªå­—æ¯ç¼©å†™â€”â€”ä¸‰ä½æ–¯å¦ç¦å¤§å­¦çš„æ•™æˆ+å­¦ç”ŸDan Boneh, Ben Lynn, Hovav Shachamäº2004å¹´åœ¨ã€ŠJournal of Cryptologyã€‹ä¸Šå‘è¡¨çš„è®ºæ–‡<a href=https://link.springer.com/chapter/10.1007/3-540-45682-1_30>Short Signatures from the Weil Pairing</a>ï¼Œä¸‹è½½ç‰ˆæœ¬å¯ä»¥ä»<a href="https://scholar.google.com/citations?user=262Twn0AAAAJ&amp;hl=en">google scholar</a>ä¸Šè·å–</p><ul><li>ç¬¬ä¸€ä½œè€…<a href=https://crypto.stanford.edu/~dabo/>Dan Boneh</a>æ˜¯ä¸ºçœŸæ­£çš„å¤§ä½¬ï¼Œæ•™å¯†ç å­¦è¯¾ç¨‹ï¼Œå¼€æºäº†ä¸€æœ¬ç»“æŸå¯†ç å­¦æ•™ç§‘ä¹¦<a href=http://toc.cryptobook.us/>A Graduate Course in Applied Cryptography</a>ï¼Œè¿˜åœ¨courseraå¼€å…è´¹è¯¾<a href=https://www.coursera.org/learn/crypto>Cryptography I</a></li><li>ç¬¬äºŒä½œè€…<a href=https://crypto.stanford.edu/~blynn/>Ben Lynn</a>å¥½åƒæ˜¯å°æ¹¾äººï¼Œè¿˜å¼€æºäº†ä¸€ä»½gitæ•™ç¨‹<a href=https://crypto.stanford.edu/~blynn/gitmagic/>Git Magic</a>ã€‚å¤§ä½¬æ¯”è¾ƒä½è°ƒ<a href=https://github.com/blynn>githubåœ°å€</a></li><li>ç¬¬ä¸‰ä½œè€…<a href=https://www.cs.utexas.edu/~hovav/>Hovav Shacham</a>2018å¹´å»äº†University of Texas at Austin</li></ul><p>åˆ¹è½¦åˆ¹è½¦ï¼Œå…ˆå­¦ä¹ TIPçš„ä»£ç ~</p><div class="prev-next-post pure-g"><div class=pure-u-1-24 style=text-align:left><a href=http://gebitang.com/post/2020/june-run/><i class="fa fa-chevron-left"></i></a></div><div class=pure-u-10-24><nav class=prev><a href=http://gebitang.com/post/2020/june-run/>Run June</a></nav></div><div class=pure-u-2-24>&nbsp;</div><div class=pure-u-10-24><nav class=next><a href=http://gebitang.com/post/2020/0709-about-sonar/>Sonar info</a></nav></div><div class=pure-u-1-24 style=text-align:right><a href=http://gebitang.com/post/2020/0709-about-sonar/><i class="fa fa-chevron-right"></i></a></div></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="gebitang",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><script src=http://gebitang.com/js/ui.js></script><script src=http://gebitang.com/js/menus.js></script><script>window.location.hostname!="localhost"&&(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-34303694-1","auto"),ga("send","pageview"))</script><button onclick=topFunction() id=myBtn title="Go to top">Top</button></body></html>